{"version":3,"file":"static/chunks/4123-f73101eab0e98881.js","mappings":"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","sources":["webpack://_N_E/../../../../../src/android/scripts/window/windowUtils.ts","webpack://_N_E/../../../src/utils/stringUtils.ts","webpack://_N_E/../../node_modules/.pnpm/react-i18next@15.1.4_i18next@24.1.0_typescript@5.8.2__react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/react-i18next/dist/es/index.js","webpack://_N_E/../../../../src/components/app/AppShell.tsx","webpack://_N_E/../../../../src/components/page/PageContent.tsx","webpack://_N_E/../../../../src/components/page/AndroidPageContent.tsx","webpack://_N_E/./src/components/trigger-list-action-list-common/ITriggerList-IActionList-common.intf.tsx","webpack://_N_E/../../../src/mc/static-model.ts","webpack://_N_E/../../../../src/components/motion/page-transition.tsx","webpack://_N_E/../../../../src/components/app/PageShell.tsx","webpack://_N_E/../../../../src/components/appbar/AppBar.tsx","webpack://_N_E/../../libs/droid/project-interface/src/common/trigger-list-action-list-intf.ts","webpack://_N_E/../../../../src/android/win/Window.ts","webpack://_N_E/../../../src/htmls/PnAnInfoWindow.ts"],"sourcesContent":["import { autoWebViewJs } from \"../../AutoWebViewJs\"\r\nasync function exitWindowById(id:string){\r\n    const script = `var bl = com.fanfanlo.lib.components.floatview.floatwindow.WindowUtils.exitById(\"${id}\", \"\");\\n bl;`\r\n    console.log('exitWindowById_fn called', id, script)\r\n    return autoWebViewJs.callScript<boolean>(script)\r\n}\r\nexport const windowUtils = {\r\n    exitWindowById\r\n}","\r\nexport function wordFirstToUpperCase(s:string):string{\r\n    return s.replace(/( |^)[a-z]/, (L) => L.toUpperCase());\r\n}\r\n\r\nexport function createRandomEnglishCharacter():string{\r\n    let s = String.fromCharCode(65+Math.ceil(Math.random() * 25));\r\n    if(Math.random() * 2 > 1){\r\n        s = s.toLocaleLowerCase()\r\n    }\r\n    return s;\r\n}\r\n\r\nexport function createRandomEnglishCharacters(length:number):string{\r\n    var result = [];\r\n   for(var i=0;i<length;i++){\r\n       result.push(createRandomEnglishCharacter());\r\n   }\r\n   return  result.join('');\r\n }\r\n\r\n export function randomLetters(len:number){\r\n    var str = \"\",\r\n        arr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\r\n \r\n    for(var i=0; i<len; i++){\r\n        const pos = Math.round(Math.random() * (arr.length-1));\r\n        str += arr[pos];\r\n    }\r\n    return str;\r\n}","export * from \"C:\\\\work\\\\android-droid\\\\html\\\\website-2024-12\\\\node_modules\\\\.pnpm\\\\react-i18next@15.1.4_i18next@24.1.0_typescript@5.8.2__react-dom@19.0.0_react@19.0.0__react@19.0.0\\\\node_modules\\\\react-i18next\\\\dist\\\\es\\\\index.js\"","'use client'\r\nimport { i18n, i18nInit, IPageScrollPosition, StorePageContext, StorePageDynamicContext, toProxy, watchUpdates, storeUtils } from \"@fanfanlo\";\r\nimport { useRouter } from \"next/router\";\r\nimport { PropsWithChildren, useEffect } from \"react\";\r\nimport { I18nextProvider } from \"react-i18next\";\r\n\r\n\r\ni18nInit()\r\n\r\nexport function AppShell({ children }: PropsWithChildren) {\r\n  const router = useRouter();\r\n  const scrollKey = 'scrollPositionInfo'\r\n  const href = window.location.href.split(\"#\")[0]\r\n  const dynamicKey = `dynamic-${href}`\r\n  const s = storeUtils.namespace(dynamicKey);\r\n  let o: Record<string, unknown>|undefined = s.read(dynamicKey)\r\n  if (!o) {\r\n    o = {}\r\n    s.write(dynamicKey, o)\r\n  }\r\n  o = toProxy(o)\r\n  useEffect(() => {\r\n\r\n    router.beforePopState((state) => {\r\n      s.clearAll()\r\n      return true\r\n    })\r\n  })\r\n  useEffect(() => {\r\n    s.write(dynamicKey, o)\r\n    return watchUpdates(o, () => {\r\n      s.write(dynamicKey, o)\r\n    })\r\n  }, [])\r\n  useEffect(() => {\r\n    const info = (s.read(scrollKey) || { x: 0, y: 0 }) as IPageScrollPosition\r\n    // console.log('app shell scroll info info = ', info)\r\n    if (info.x == 0 && info.y == 0) {\r\n      listenScroll()\r\n    } else {\r\n      window.requestAnimationFrame(() => {\r\n        window.scrollTo(info.x, info.y)\r\n        listenScroll()\r\n      })\r\n    }\r\n    function onScroll(e: Event) {\r\n      // console.log('app shell on scroll', { x: window.scrollX, y: window.scrollY })\r\n      s.write(scrollKey, { x: window.scrollX, y: window.scrollY })\r\n    }\r\n    function listenScroll() {\r\n      window.addEventListener('scroll', onScroll)\r\n    }\r\n\r\n    function unsub() {\r\n      window.removeEventListener('scroll', onScroll)\r\n    }\r\n    return unsub\r\n  });\r\n  return (\r\n    <StorePageContext value={s}>\r\n      <StorePageDynamicContext value={o}>\r\n\r\n        <I18nextProvider i18n={i18n}>\r\n          {children}\r\n        </I18nextProvider>\r\n      </StorePageDynamicContext>\r\n    </StorePageContext>\r\n  )\r\n}","import { Box, Button, Container } from '@mui/material';\r\nimport { createContext, PropsWithChildren, useContext, useEffect } from 'react';\r\nimport { ITitleI18nConf, ITitleI18nNsConf, ITitleI18nTitleConf } from '.';\r\nimport { isBuild, isDev, isServer, loadI18nValue, publicRuntimeConfig } from '@fanfanlo';\r\nimport { read } from 'fs';\r\nimport { useTranslation } from '@fanfanlo';\r\n\r\n\r\nfunction Reload(){\r\n  if(!isDev)return <>  </>\r\n  const {t} = useTranslation(\"app-ui/components/page/content\")\r\n  return(\r\n    <Box>\r\n      <Button onClick={() => {window.location.reload()}}>{t(\"PageContent.refresh\")}</Button>\r\n      {new Date().toLocaleString()}\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst ScrollP = createContext({ x: 0, y: 0 });\r\nlet index = 0;\r\nexport default function PageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren) {\r\n  index++;\r\n  const scroll = useContext(ScrollP);\r\n  const clazz = `${Date.now() + Math.random() * Date.now()}`;\r\n  useEffect(()=>{\r\n    async function loadTitle(){\r\n      if(!titleConf)return\r\n      let title = titleConf.title\r\n      if(titleConf.ns){\r\n        title = await loadI18nValue(titleConf.ns, titleConf.key || \"content.title\")\r\n      }\r\n      if(!title)return\r\n      document.title = title\r\n    }\r\n    loadTitle()\r\n  }, [])\r\n  useEffect(() => {\r\n    const container = document.getElementsByClassName(clazz)[0];\r\n    if (!container) return;\r\n    container.scrollTop = scroll.y;\r\n    const onScroll = () => {\r\n      var scrollTop = container.scrollTop;\r\n      scroll.y = scrollTop;\r\n    };\r\n    container.removeEventListener('scroll', onScroll);\r\n    container.addEventListener('scroll', onScroll, { passive: true });\r\n    return () => container.removeEventListener('scroll', onScroll);\r\n  }, [clazz, scroll]);\r\n  return (\r\n\r\n    <Container className={clazz} sx={{ flexGrow: 1, overflow: 'auto', padding: \"0px\" }}>\r\n      <Box>\r\n        {(reload || (reload == undefined)) && <Reload />}\r\n        {children}\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import { PropsWithChildren } from \"react\";\r\nimport PageContent from \"./PageContent\";\r\nimport { ITitleI18nConf } from \".\";\r\nexport default function AndroidPageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren)  {\r\n    return (\r\n        <PageContent titleConf={titleConf} reload={reload}>\r\n            {children}\r\n        </PageContent>\r\n    )\r\n}\r\n","import { IActionOrTriggerListPageParams } from \"@app/static\"\r\nimport { Button } from \"@mui/material\"\r\nimport Link from \"next/link\"\r\nimport { NextRouter, useRouter } from \"next/router\"\r\nimport { ParsedUrlQueryInput } from \"querystring\"\r\nimport { PropsWithChildren } from \"react\"\r\nexport type IActionItemType = \"page\" | \"action\" | \"trigger\"\r\nexport interface IActionOrTriggerItem {\r\n    id:string\r\n    i18nNs:string\r\n    nameKey: string\r\n    group: string\r\n    descriptionKey: string\r\n    type: IActionItemType\r\n    LinkRender:React.ComponentType<{query:IActionOrTriggerListPageParams, id:string, item:IActionOrTriggerItem}&PropsWithChildren>\r\n}\r\n\r\nexport type IActionOrTriggerList = IActionOrTriggerItem[]\r\n\r\nexport type IActionOrTriggerGroup = {\r\n    i18nNs:string\r\n    nameKey: string\r\n    descriptionKey: string\r\n    items: IActionOrTriggerList\r\n}\r\n\r\nexport type IActionOrTriggerGroupList = IActionOrTriggerGroup[]\r\n\r\nexport function ActionOrTriggerListLinkRender({query, children, pathname, id}:{query:IActionOrTriggerListPageParams, pathname:string, id:string}&PropsWithChildren) {\r\n    return (\r\n        <Link href={{pathname, query}} data-id={id}\r\n        >\r\n            {children}\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport function createActionOrTriggerListLinkRender(subPath:string, id:string, extraQuery?:ParsedUrlQueryInput) {\r\n    return ({query, children, item}:{query:IActionOrTriggerListPageParams, item:IActionOrTriggerItem}&PropsWithChildren) => {\r\n        const router = useRouter()\r\n        const pathname = `${router.pathname}${subPath}`\r\n        return <ActionOrTriggerListLinkRender query={{...query, ...extraQuery}} pathname={pathname} id={id}>{children}</ActionOrTriggerListLinkRender>\r\n    }\r\n}\r\n\r\n\r\nexport function createActionOrTriggerButtonRender(onSelect:(params:{query:IActionOrTriggerListPageParams, item:IActionOrTriggerItem, router:NextRouter})=>void){\r\n    return ({query, children, item}:{query:IActionOrTriggerListPageParams, item:IActionOrTriggerItem}&PropsWithChildren) => {\r\n        const router = useRouter()\r\n        function onClick() {\r\n            onSelect({query, item, router})  \r\n        }\r\n        return(\r\n            <Button id={item.id} \r\n            data-id={item.id}\r\n            onClick={onClick}>\r\n                {children}\r\n            </Button>\r\n        )\r\n    }\r\n}","import { Dispatcher } from \"@fanfanlo\"\r\nimport { DispatcherUnsubscribe } from \"@fanfanlo\"\r\n\r\nconst dipsatcher = new Dispatcher()\r\ninterface IStaticModel{\r\n    dipsatcher:Dispatcher\r\n    screenLockCount:number\r\n    switchPage:()=>void\r\n    listenSwitchPage:(callback:()=>void)=>DispatcherUnsubscribe \r\n}\r\nexport const staticModel:IStaticModel = {\r\n    dipsatcher,\r\n    screenLockCount:0,\r\n    switchPage:async()=>{\r\n        dipsatcher.dispatch(\"switchPage\")\r\n        staticModel.screenLockCount = 0\r\n    },\r\n    listenSwitchPage:(callback:()=>void)=>{\r\n        return dipsatcher.addListener(\"switchPage\",callback)\r\n    }\r\n}   \r\n","import { PropsWithChildren } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { useRouter } from \"next/router\";\r\n\r\n\r\nexport function PageTransition({ children }: PropsWithChildren) {\r\n    const router = useRouter()\r\n    return (\r\n\r\n        <AnimatePresence mode=\"sync\">\r\n            <motion.div\r\n                key={router.route}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -110 }}\r\n                transition={{ duration: 0.3 }}\r\n            >\r\n                {children}\r\n            </motion.div>\r\n        </AnimatePresence>\r\n    )\r\n}","import { staticModel } from \"@app/static\";\r\nimport { Box } from \"@mui/material\";\r\nimport { useEffect } from \"react\";\r\nimport { PageTransition } from \"../motion\";\r\nlet idCount = 0\r\nexport function PageShell({children}:{children:React.ReactNode}){\r\n    const id = `app-shell-${idCount++}`\r\n    useEffect(()=>{\r\n        const box = document.querySelector(`#${id}`)\r\n        const unlisten = staticModel.listenSwitchPage(()=>{\r\n            if(!box)return\r\n        })\r\n        if(!box)return\r\n        box.addEventListener(\"click\",(e)=>{\r\n            if(staticModel.screenLockCount == 0)return\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n        })\r\n        return ()=>{\r\n            unlisten()\r\n        }\r\n    },[])\r\n    return (\r\n        <Box id={id}>\r\n            <PageTransition>\r\n                {children}  \r\n            </PageTransition>\r\n        </Box>\r\n    )\r\n}\r\n","import { AppBar, Box, Container, CssBaseline, Fab, Fade, Slide, Toolbar, Typography, useScrollTrigger } from \"@mui/material\";\r\nimport { PropsWithChildren, ReactNode } from \"react\";\r\n// import {AndroidPageContent} from \"../../\";\r\nimport { browserHistoryUtils, IDispatcher } from \"@fanfanlo\";\r\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { PageShell } from \"../app/PageShell\";\r\nimport shadows from \"@mui/material/styles/shadows\";\r\nimport AndroidPageContent from \"../page/AndroidPageContent\";\r\nimport { IAppBarBackAskEvent } from \"@app/static\";\r\nimport { ITitleI18nConf } from \"../page\";\r\ninterface Props {\r\n    /**\r\n     * Injected by the documentation to work in an iframe.\r\n     * You won't need it on your project.\r\n     */\r\n    window?: () => Window;\r\n    children?: React.ReactElement<unknown>;\r\n}\r\n\r\nfunction HideOnScroll(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n    });\r\n\r\n    return (\r\n        <Slide appear={false} direction=\"down\" in={!trigger}>\r\n            {children ?? <div />}\r\n        </Slide>\r\n    );\r\n}\r\nexport interface IAppbarProps extends PropsWithChildren {\r\n    title: ReactNode\r\n    back: boolean\r\n    backHandler?: () => boolean\r\n    backDispatcher?:IDispatcher\r\n}\r\nexport function Appbar({ title }: { title: ReactNode } & PropsWithChildren) {\r\n    return (\r\n\r\n        <AppBar color={\"inherit\"}>\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" component=\"div\">\r\n                    {title}\r\n                </Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\ninterface IAppbarContainerProps extends PropsWithChildren {\r\n    appbarProps: IAppbarProps\r\n    titleConf?:ITitleI18nConf\r\n    reload?: boolean\r\n}\r\n\r\n// export interface IAppBarBackAskEvent{\r\n//     defaultPrevented:boolean\r\n// }\r\n\r\nfunction ScrollTop(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n        disableHysteresis: true,\r\n        threshold: 100,\r\n    });\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n        const anchor = (\r\n            (event.target as HTMLDivElement).ownerDocument || document\r\n        ).querySelector('#back-to-top-anchor');\r\n\r\n        if (anchor) {\r\n            anchor.scrollIntoView({\r\n                block: 'center',\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fade in={trigger}>\r\n            <Box data-id=\"content-scroll-top-button\"\r\n                onClick={handleClick}\r\n                role=\"presentation\"\r\n                sx={{ position: 'fixed', bottom: 16, right: 16 }}\r\n            >\r\n                {children}\r\n            </Box>\r\n        </Fade>\r\n    );\r\n}\r\nexport function AppbarContainer(props: IAppbarContainerProps) {\r\n    const { children, appbarProps, titleConf, reload } = props;\r\n    const router = useRouter()\r\n    function handleBack(){\r\n        // 本想抽象成底层一个方法，但是考虑了一下router需要注入或者是一个callback，似乎像现在这样判断一下event也可以。回头继续观察一下吧。\r\n        const event = browserHistoryUtils.askHistoryBack()\r\n        if(event.defaultPrevented)return\r\n        if(appbarProps.backDispatcher){\r\n            const e:IAppBarBackAskEvent = {defaultPrevented:false}\r\n            appbarProps.backDispatcher.dispatch('back',e)\r\n            if(e.defaultPrevented)return\r\n        }\r\n        router.back()\r\n    }\r\n    return (\r\n        <PageShell>\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <HideOnScroll {...props}>\r\n                <AppBar color=\"inherit\">\r\n                    <Toolbar>\r\n                        <KeyboardArrowLeft onClick={handleBack} />\r\n                        {appbarProps.title}\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </HideOnScroll>\r\n            <Toolbar id=\"back-to-top-anchor\" />\r\n            <Container sx={{padding:\"0\", marginTop:\"17px\"}}>\r\n                <AndroidPageContent titleConf={titleConf} reload={reload}>\r\n                    {children}\r\n                </AndroidPageContent>\r\n            </Container>\r\n\r\n            <ScrollTop {...props}>\r\n                <Fab size=\"small\" aria-label=\"scroll back to top\">\r\n                    <KeyboardArrowUpIcon />\r\n                </Fab>\r\n            </ScrollTop>\r\n        </React.Fragment>\r\n        </PageShell>\r\n    );\r\n}\r\n","import { IActionOrTriggerListPageParams } from \"@app/static\"\r\n\r\nimport { ParsedUrlQueryInput } from \"querystring\"\r\nimport { IActionGroup, IActionData } from \"../action\"\r\nimport { IProjectData } from \"../project\"\r\nimport { projectStore } from \"../storage\"\r\nimport { ITriggerGroup, ITriggerData } from \"../trigger\"\r\nimport { ITriggerActionGroup, ITriggerAction } from \"../trigger-action\"\r\nexport enum ActionListFromEnum {\r\n    project = 'project',\r\n}\r\nexport enum TriggerOrActionListTypeEnum {\r\n    addAction = 'add',\r\n    updateAction = 'update',\r\n}\r\nexport interface ITriggerOrActionListPageParams extends ParsedUrlQueryInput{\r\n    // 如果actionType是addAction，则target是taskData的id\r\n    // 如果actionType是updateAction，则target是actionData的id\r\n    // target: string\r\n    // 动作列表里选择动作后要返回的路径\r\n    backPath?: string\r\n    // 本次操作的类型\r\n    type: TriggerOrActionListTypeEnum\r\n    projectId:string\r\n    triggerActionGroupId:string\r\n    triggerActionId:string\r\n    actionGroupId:string\r\n    // 如果是更新，则必须有actionId\r\n    actionId?:string\r\n    // 如果是添加，则必须有actionType\r\n    // actionType为namespace/openApp这种样子的，这样能够从actionMap里找到这个action来进行添加\r\n    // 这个需要在动作列表里选择了具体的action之后才能知道，所以在传递过程中这个可以为空，在pages/action-list/index.tsx里会根据actionId来找到具体的actionType\r\n    actionType:string\r\n    // 处理函数名，在map里\r\n    // handlerFnName:string\r\n}\r\nexport interface ITriggerOrActionListParamsData{\r\n    project?:IProjectData\r\n    triggerActionGroup?:ITriggerActionGroup\r\n    triggerAction?:ITriggerAction\r\n    actionGroup?:IActionGroup\r\n    triggerGroup?:ITriggerGroup\r\n    action?:IActionData<any,any>\r\n    trigger?:ITriggerData<any,any>\r\n}\r\nexport interface ITriggerOrActionListPageParsedResult{\r\n    params:IActionOrTriggerListPageParams\r\n    data:ITriggerOrActionListParamsData\r\n}\r\nexport function getTriggerOrActionListPageParams(params:IActionOrTriggerListPageParams):ITriggerOrActionListPageParsedResult{\r\n    const project = projectStore.findDraftOrSavedProject(params.projectId)\r\n    const data:ITriggerOrActionListParamsData = {}\r\n    const res = {data, params}\r\n    if(!project)return res\r\n    data.project = project\r\n    if(project.triggerActionGroup.id !== params.triggerActionGroupId)return res\r\n    data.triggerActionGroup = project.triggerActionGroup\r\n    if(!params.triggerActionId)return res\r\n    const triggerAction = data.triggerActionGroup.list.find(item=>item.id === params.triggerActionId)\r\n    if(!triggerAction)return res\r\n    data.triggerAction = triggerAction\r\n    parseAction(data, params, triggerAction)\r\n    parseTrigger(data, params, triggerAction)\r\n    return res\r\n    \r\n}\r\n\r\nfunction parseAction(data:ITriggerOrActionListParamsData, params:IActionOrTriggerListPageParams, triggerAction:ITriggerAction){\r\n    if(!params.actionGroupId || !triggerAction.actionGroup || params.actionGroupId != triggerAction.actionGroup.id)return\r\n    data.actionGroup = triggerAction.actionGroup\r\n    const action = triggerAction.actionGroup.list.find(item=>item.id === params.actionId)\r\n    if(!action)return\r\n    data.action = action\r\n}\r\n\r\nfunction parseTrigger(data:ITriggerOrActionListParamsData, params:IActionOrTriggerListPageParams, triggerAction:ITriggerAction){\r\n    if(!params.triggerGroupId || !triggerAction.triggerGroup || params.triggerGroupId != triggerAction.triggerGroup.id)return\r\n    data.triggerGroup = triggerAction.triggerGroup\r\n    const trigger = triggerAction.triggerGroup.list.find(item=>item.id === params.triggerId)\r\n    if(!trigger)return\r\n    data.trigger = trigger\r\n}\r\n\r\n","\r\nimport { DataEvent, EventDispatcher, Log } from \"@fanfanlo\"\r\nimport { WindowConf } from \"./WindowConf\"\r\nimport { WebViewJs } from \"../WebViewJs\"\r\nimport { androidDispatchers } from \"../androidDispatchers\"\r\n\r\nexport class Window extends EventDispatcher{\r\n    logger = new Log(false, this.constructor.name)\r\n    dismissListenIndex:any = \"\"\r\n    conf!:WindowConf\r\n    static getDismissEventType(ulid:string):string{\r\n        return `window-${ulid}-dismiss`\r\n    }\r\n    static eventTypeDismiss = \"dismiss\"\r\n\r\n    static create(conf:WindowConf){\r\n        let w = new Window(conf)\r\n        return w;\r\n    }\r\n    constructor(conf:WindowConf) {\r\n        super();\r\n        this.conf = conf;\r\n    }\r\n    init=()=>{\r\n        let {print, error, warn, logger} = this.logger.sub(false, \"fn_init\");\r\n        let type = Window.getDismissEventType(this.conf.windowId!);\r\n        print(\"type is\", type)\r\n        this.dismissListenIndex = WebViewJs.instance.shellListen(androidDispatchers.Window.name, type, type, true, this.onDismiss);\r\n        print(\"dismissListenIndex is\", this.dismissListenIndex)\r\n        return this;\r\n    }\r\n    open=()=>{\r\n        if(!this.conf){\r\n            throw Error(\"no window conf\")\r\n        }\r\n        const res = WebViewJs.instance.createWindow(JSON.stringify(this.conf))\r\n        console.log('crate window res=', res)\r\n        return this;\r\n    }\r\n    onDismiss=()=>{\r\n        let {print, error, warn, logger} = this.logger.sub(false, \"fn_onDismiss\");\r\n        print(\"dismiss\", Window.getDismissEventType(this.conf.windowId!))\r\n        this.dispatchEvent(new DataEvent(Window.eventTypeDismiss))\r\n    }\r\n}","import {env} from \"../confs/env\";\r\nimport {ulid} from \"ulid\";\r\nimport {createWindowConfCopy} from \"../android/win/WindowConf\";\r\nimport {createFloatA11yPermissionGroup} from \"../android/components/permissionGroupCreator\";\r\nimport {PermissionGroup} from \"../android/components/PermissionGroup\";\r\nimport {Window} from \"../android/win/Window\";\r\nimport {WebViewJs} from \"../android/WebViewJs\";\r\nimport {androidDispatchers} from \"../android/androidDispatchers\";\r\nimport { getI18nT } from \"@fanfanlo\";\r\nimport { windowUtils } from \"../android/scripts/window/windowUtils\";\r\nconst {htmlOrigin} = env\r\nexport interface PnAnResultData {\r\n    pn:string,\r\n    an:string,\r\n    cn?:string,\r\n}\r\nfunction getHtmlPnAnInfoWindowConf(windowId:string, selectEventType:string){\r\n\r\n    let conf = {\r\n        htmlConf:{\r\n            url:`${htmlOrigin}pages/accessibility-pn-an-info/`,\r\n            webViewJsParams:{\r\n                javaToJsDataString:JSON.stringify({eventType:selectEventType})\r\n            }\r\n        },\r\n        floatWindowConf:{\r\n            floatConf:{\r\n                positionSaveName:\"a11y-pn-a-an-info-panel\"\r\n            }\r\n        },\r\n        windowId:windowId\r\n    }\r\n    return createWindowConfCopy(conf)\r\n    // return _.merge({}, windowConf, conf)\r\n}\r\n\r\nexport async function openPnAnInfoWindow(autoCloseWhenSelected:boolean):Promise<PnAnResultData>{\r\n    console.log('openPnAnInfoWindow_fn')\r\n    let opened = false\r\n    const t = await getI18nT('droid-android/htmls/content')\r\n    return new Promise(function (resolve, reject){\r\n        let isSuccess = false;\r\n        let group = createFloatA11yPermissionGroup()\r\n        group.addEventListener(PermissionGroup.eventComplete, ()=>{\r\n            console.log('group.isSuccess=', group.isSuccess, 'opened', opened)\r\n            if(opened)return\r\n            if(group.isSuccess){\r\n                openWindow()\r\n            }else{\r\n                reject(t(\"PnAnInfoWindow.noPermission\"));\r\n            }\r\n        });\r\n        group.run();\r\n\r\n        function openWindow(){\r\n            opened = true\r\n            let windowId = ulid();\r\n            let eventType = `openAppBackToMainActivitySelected-${windowId}`\r\n            const eventBackType = `${eventType}back`;\r\n            let listenIndex = WebViewJs.instance.shellListen(androidDispatchers.WebViewJsDispatcher.name, eventType, eventBackType, true, onSelectApp)\r\n            console.log('openWindow_fn eventType=',eventType, eventBackType)\r\n            let conf = getHtmlPnAnInfoWindowConf(windowId, eventType);\r\n            let win = Window.create(conf);\r\n            win.init().open().addEventListener(Window.eventTypeDismiss, onDismiss)\r\n            function onSelectApp(s:string){\r\n                console.log('openWindow_fn onSelectApp', s)\r\n                let o = JSON.parse(s) as PnAnResultData\r\n                isSuccess = true;\r\n                resolve(o)\r\n                if(autoCloseWhenSelected){\r\n                    opened = false;\r\n                    WebViewJs.instance.shellRemoveListen(androidDispatchers.WebViewJsDispatcher.name, listenIndex);\r\n                    windowUtils.exitWindowById(windowId)\r\n                }\r\n            }\r\n\r\n            function onDismiss(){\r\n                opened = false;\r\n                WebViewJs.instance.shellRemoveListen(androidDispatchers.WebViewJsDispatcher.name, listenIndex);\r\n                console.log('openWindow_fnonDismiss_fn', androidDispatchers.WebViewJsDispatcher.name, listenIndex)\r\n                if(!isSuccess){\r\n                    reject(t(\"PnAnInfoWindow.noPnSelected\"))\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n}"],"names":["Button","Link","useRouter","ActionOrTriggerListLinkRender","query","children","pathname","id","href","data-id","createActionOrTriggerListLinkRender","subPath","extraQuery","item","router","createActionOrTriggerButtonRender","onSelect","onClick","projectStore","ActionListFromEnum","TriggerOrActionListTypeEnum","getTriggerOrActionListPageParams","params","project","findDraftOrSavedProject","projectId","data","res","triggerActionGroup","triggerActionGroupId","triggerActionId","triggerAction","list","find","parseAction","parseTrigger","actionGroupId","actionGroup","action","actionId","triggerGroupId","triggerGroup","trigger","triggerId"],"sourceRoot":"","ignoreList":[2]}