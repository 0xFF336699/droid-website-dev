{"version":3,"file":"static/chunks/pages/action-list/app-selector-ad35cc207650ff7c.js","mappings":"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","sources":["webpack://_N_E/../../../src/utils/router-utils.ts","webpack://_N_E/../../node_modules/.pnpm/react-i18next@15.1.4_i18next@24.1.0_typescript@5.8.2__react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/react-i18next/dist/es/index.js","webpack://_N_E/../../../../src/components/app/AppShell.tsx","webpack://_N_E/?8bd1","webpack://_N_E/../../../../src/components/page/PageContent.tsx","webpack://_N_E/../../../../src/components/page/AndroidPageContent.tsx","webpack://_N_E/../../../src/mc/static-model.ts","webpack://_N_E/../../../../src/components/motion/page-transition.tsx","webpack://_N_E/../../../../src/components/app/PageShell.tsx","webpack://_N_E/../../../../src/components/appbar/AppBar.tsx","webpack://_N_E/../../libs/droid/project-interface/src/common/trigger-list-action-list-intf.ts","webpack://_N_E/../../../../src/android/scripts/readAllPackages.ts","webpack://_N_E/./src/pages/action-list/app-selector/index.tsx"],"sourcesContent":["import { NextRouter } from \"next/router\";\r\n\r\nasync function checkToPath(router:NextRouter, expectNowPath:string, pointPath:string, backCount:number){\r\n    const nowPath = router.pathname\r\n    console.log('nowpath=', nowPath);\r\n    console.log('expectNowPath=', expectNowPath)\r\n    console.log('pointPath=', pointPath)\r\n    if(nowPath === pointPath){\r\n        return\r\n    }\r\n    if(expectNowPath !== nowPath){\r\n        router.replace(pointPath)\r\n    }\r\n    while(backCount > 0){\r\n        router.back()\r\n        backCount--\r\n    }\r\n    if(router.pathname !== pointPath && pointPath){\r\n        router.push(pointPath)\r\n    }\r\n}\r\n\r\n\r\nexport const routerUtils = {\r\n    checkToPath\r\n}","export * from \"C:\\\\work\\\\android-droid\\\\html\\\\website-2024-12\\\\node_modules\\\\.pnpm\\\\react-i18next@15.1.4_i18next@24.1.0_typescript@5.8.2__react-dom@19.0.0_react@19.0.0__react@19.0.0\\\\node_modules\\\\react-i18next\\\\dist\\\\es\\\\index.js\"","'use client'\r\nimport { i18n, i18nInit, IPageScrollPosition, StorePageContext, StorePageDynamicContext, toProxy, watchUpdates, storeUtils } from \"@fanfanlo\";\r\nimport { useRouter } from \"next/router\";\r\nimport { PropsWithChildren, useEffect } from \"react\";\r\nimport { I18nextProvider } from \"react-i18next\";\r\n\r\n\r\ni18nInit()\r\n\r\nexport function AppShell({ children }: PropsWithChildren) {\r\n  const router = useRouter();\r\n  const scrollKey = 'scrollPositionInfo'\r\n  const href = window.location.href.split(\"#\")[0]\r\n  const dynamicKey = `dynamic-${href}`\r\n  const s = storeUtils.namespace(dynamicKey);\r\n  let o: Record<string, unknown>|undefined = s.read(dynamicKey)\r\n  if (!o) {\r\n    o = {}\r\n    s.write(dynamicKey, o)\r\n  }\r\n  o = toProxy(o)\r\n  useEffect(() => {\r\n\r\n    router.beforePopState((state) => {\r\n      s.clearAll()\r\n      return true\r\n    })\r\n  })\r\n  useEffect(() => {\r\n    s.write(dynamicKey, o)\r\n    return watchUpdates(o, () => {\r\n      s.write(dynamicKey, o)\r\n    })\r\n  }, [])\r\n  useEffect(() => {\r\n    const info = (s.read(scrollKey) || { x: 0, y: 0 }) as IPageScrollPosition\r\n    // console.log('app shell scroll info info = ', info)\r\n    if (info.x == 0 && info.y == 0) {\r\n      listenScroll()\r\n    } else {\r\n      window.requestAnimationFrame(() => {\r\n        window.scrollTo(info.x, info.y)\r\n        listenScroll()\r\n      })\r\n    }\r\n    function onScroll(e: Event) {\r\n      // console.log('app shell on scroll', { x: window.scrollX, y: window.scrollY })\r\n      s.write(scrollKey, { x: window.scrollX, y: window.scrollY })\r\n    }\r\n    function listenScroll() {\r\n      window.addEventListener('scroll', onScroll)\r\n    }\r\n\r\n    function unsub() {\r\n      window.removeEventListener('scroll', onScroll)\r\n    }\r\n    return unsub\r\n  });\r\n  return (\r\n    <StorePageContext value={s}>\r\n      <StorePageDynamicContext value={o}>\r\n\r\n        <I18nextProvider i18n={i18n}>\r\n          {children}\r\n        </I18nextProvider>\r\n      </StorePageDynamicContext>\r\n    </StorePageContext>\r\n  )\r\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/action-list/app-selector\",\n      function () {\n        return require(\"private-next-pages/action-list/app-selector/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/action-list/app-selector\"])\n      });\n    }\n  ","import { Box, Button, Container } from '@mui/material';\r\nimport { createContext, PropsWithChildren, useContext, useEffect } from 'react';\r\nimport { ITitleI18nConf, ITitleI18nNsConf, ITitleI18nTitleConf } from '.';\r\nimport { isBuild, isDev, isServer, loadI18nValue, publicRuntimeConfig } from '@fanfanlo';\r\nimport { read } from 'fs';\r\nimport { useTranslation } from '@fanfanlo';\r\n\r\n\r\nfunction Reload(){\r\n  if(!isDev)return <>  </>\r\n  const {t} = useTranslation(\"app-ui/components/page/content\")\r\n  return(\r\n    <Box>\r\n      <Button onClick={() => {window.location.reload()}}>{t(\"PageContent.refresh\")}</Button>\r\n      {new Date().toLocaleString()}\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst ScrollP = createContext({ x: 0, y: 0 });\r\nlet index = 0;\r\nexport default function PageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren) {\r\n  index++;\r\n  const scroll = useContext(ScrollP);\r\n  const clazz = `${Date.now() + Math.random() * Date.now()}`;\r\n  useEffect(()=>{\r\n    async function loadTitle(){\r\n      if(!titleConf)return\r\n      let title = titleConf.title\r\n      if(titleConf.ns){\r\n        title = await loadI18nValue(titleConf.ns, titleConf.key || \"content.title\")\r\n      }\r\n      if(!title)return\r\n      document.title = title\r\n    }\r\n    loadTitle()\r\n  }, [])\r\n  useEffect(() => {\r\n    const container = document.getElementsByClassName(clazz)[0];\r\n    if (!container) return;\r\n    container.scrollTop = scroll.y;\r\n    const onScroll = () => {\r\n      var scrollTop = container.scrollTop;\r\n      scroll.y = scrollTop;\r\n    };\r\n    container.removeEventListener('scroll', onScroll);\r\n    container.addEventListener('scroll', onScroll, { passive: true });\r\n    return () => container.removeEventListener('scroll', onScroll);\r\n  }, [clazz, scroll]);\r\n  return (\r\n\r\n    <Container className={clazz} sx={{ flexGrow: 1, overflow: 'auto', padding: \"0px\" }}>\r\n      <Box>\r\n        {(reload || (reload == undefined)) && <Reload />}\r\n        {children}\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import { PropsWithChildren } from \"react\";\r\nimport PageContent from \"./PageContent\";\r\nimport { ITitleI18nConf } from \".\";\r\nexport default function AndroidPageContent({ children, titleConf, reload }: {titleConf?:ITitleI18nConf, reload?: boolean} & PropsWithChildren)  {\r\n    return (\r\n        <PageContent titleConf={titleConf} reload={reload}>\r\n            {children}\r\n        </PageContent>\r\n    )\r\n}\r\n","import { Dispatcher } from \"@fanfanlo\"\r\nimport { DispatcherUnsubscribe } from \"@fanfanlo\"\r\n\r\nconst dipsatcher = new Dispatcher()\r\ninterface IStaticModel{\r\n    dipsatcher:Dispatcher\r\n    screenLockCount:number\r\n    switchPage:()=>void\r\n    listenSwitchPage:(callback:()=>void)=>DispatcherUnsubscribe \r\n}\r\nexport const staticModel:IStaticModel = {\r\n    dipsatcher,\r\n    screenLockCount:0,\r\n    switchPage:async()=>{\r\n        dipsatcher.dispatch(\"switchPage\")\r\n        staticModel.screenLockCount = 0\r\n    },\r\n    listenSwitchPage:(callback:()=>void)=>{\r\n        return dipsatcher.addListener(\"switchPage\",callback)\r\n    }\r\n}   \r\n","import { PropsWithChildren } from \"react\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { useRouter } from \"next/router\";\r\n\r\n\r\nexport function PageTransition({ children }: PropsWithChildren) {\r\n    const router = useRouter()\r\n    return (\r\n\r\n        <AnimatePresence mode=\"sync\">\r\n            <motion.div\r\n                key={router.route}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -110 }}\r\n                transition={{ duration: 0.3 }}\r\n            >\r\n                {children}\r\n            </motion.div>\r\n        </AnimatePresence>\r\n    )\r\n}","import { staticModel } from \"@app/static\";\r\nimport { Box } from \"@mui/material\";\r\nimport { useEffect } from \"react\";\r\nimport { PageTransition } from \"../motion\";\r\nlet idCount = 0\r\nexport function PageShell({children}:{children:React.ReactNode}){\r\n    const id = `app-shell-${idCount++}`\r\n    useEffect(()=>{\r\n        const box = document.querySelector(`#${id}`)\r\n        const unlisten = staticModel.listenSwitchPage(()=>{\r\n            if(!box)return\r\n        })\r\n        if(!box)return\r\n        box.addEventListener(\"click\",(e)=>{\r\n            if(staticModel.screenLockCount == 0)return\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n        })\r\n        return ()=>{\r\n            unlisten()\r\n        }\r\n    },[])\r\n    return (\r\n        <Box id={id}>\r\n            <PageTransition>\r\n                {children}  \r\n            </PageTransition>\r\n        </Box>\r\n    )\r\n}\r\n","import { AppBar, Box, Container, CssBaseline, Fab, Fade, Slide, Toolbar, Typography, useScrollTrigger } from \"@mui/material\";\r\nimport { PropsWithChildren, ReactNode } from \"react\";\r\n// import {AndroidPageContent} from \"../../\";\r\nimport { browserHistoryUtils, IDispatcher } from \"@fanfanlo\";\r\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { PageShell } from \"../app/PageShell\";\r\nimport shadows from \"@mui/material/styles/shadows\";\r\nimport AndroidPageContent from \"../page/AndroidPageContent\";\r\nimport { IAppBarBackAskEvent } from \"@app/static\";\r\nimport { ITitleI18nConf } from \"../page\";\r\ninterface Props {\r\n    /**\r\n     * Injected by the documentation to work in an iframe.\r\n     * You won't need it on your project.\r\n     */\r\n    window?: () => Window;\r\n    children?: React.ReactElement<unknown>;\r\n}\r\n\r\nfunction HideOnScroll(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n    });\r\n\r\n    return (\r\n        <Slide appear={false} direction=\"down\" in={!trigger}>\r\n            {children ?? <div />}\r\n        </Slide>\r\n    );\r\n}\r\nexport interface IAppbarProps extends PropsWithChildren {\r\n    title: ReactNode\r\n    back: boolean\r\n    backHandler?: () => boolean\r\n    backDispatcher?:IDispatcher\r\n}\r\nexport function Appbar({ title }: { title: ReactNode } & PropsWithChildren) {\r\n    return (\r\n\r\n        <AppBar color={\"inherit\"}>\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" component=\"div\">\r\n                    {title}\r\n                </Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\ninterface IAppbarContainerProps extends PropsWithChildren {\r\n    appbarProps: IAppbarProps\r\n    titleConf?:ITitleI18nConf\r\n    reload?: boolean\r\n}\r\n\r\n// export interface IAppBarBackAskEvent{\r\n//     defaultPrevented:boolean\r\n// }\r\n\r\nfunction ScrollTop(props: Props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n        disableHysteresis: true,\r\n        threshold: 100,\r\n    });\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n        const anchor = (\r\n            (event.target as HTMLDivElement).ownerDocument || document\r\n        ).querySelector('#back-to-top-anchor');\r\n\r\n        if (anchor) {\r\n            anchor.scrollIntoView({\r\n                block: 'center',\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fade in={trigger}>\r\n            <Box data-id=\"content-scroll-top-button\"\r\n                onClick={handleClick}\r\n                role=\"presentation\"\r\n                sx={{ position: 'fixed', bottom: 16, right: 16 }}\r\n            >\r\n                {children}\r\n            </Box>\r\n        </Fade>\r\n    );\r\n}\r\nexport function AppbarContainer(props: IAppbarContainerProps) {\r\n    const { children, appbarProps, titleConf, reload } = props;\r\n    const router = useRouter()\r\n    function handleBack(){\r\n        // 本想抽象成底层一个方法，但是考虑了一下router需要注入或者是一个callback，似乎像现在这样判断一下event也可以。回头继续观察一下吧。\r\n        const event = browserHistoryUtils.askHistoryBack()\r\n        if(event.defaultPrevented)return\r\n        if(appbarProps.backDispatcher){\r\n            const e:IAppBarBackAskEvent = {defaultPrevented:false}\r\n            appbarProps.backDispatcher.dispatch('back',e)\r\n            if(e.defaultPrevented)return\r\n        }\r\n        router.back()\r\n    }\r\n    return (\r\n        <PageShell>\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n            <HideOnScroll {...props}>\r\n                <AppBar color=\"inherit\">\r\n                    <Toolbar>\r\n                        <KeyboardArrowLeft onClick={handleBack} />\r\n                        {appbarProps.title}\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </HideOnScroll>\r\n            <Toolbar id=\"back-to-top-anchor\" />\r\n            <Container sx={{padding:\"0\", marginTop:\"17px\"}}>\r\n                <AndroidPageContent titleConf={titleConf} reload={reload}>\r\n                    {children}\r\n                </AndroidPageContent>\r\n            </Container>\r\n\r\n            <ScrollTop {...props}>\r\n                <Fab size=\"small\" aria-label=\"scroll back to top\">\r\n                    <KeyboardArrowUpIcon />\r\n                </Fab>\r\n            </ScrollTop>\r\n        </React.Fragment>\r\n        </PageShell>\r\n    );\r\n}\r\n","import { IActionOrTriggerListPageParams } from \"@app/static\"\r\n\r\nimport { ParsedUrlQueryInput } from \"querystring\"\r\nimport { IActionGroup, IActionData } from \"../action\"\r\nimport { IProjectData } from \"../project\"\r\nimport { projectStore } from \"../storage\"\r\nimport { ITriggerGroup, ITriggerData } from \"../trigger\"\r\nimport { ITriggerActionGroup, ITriggerAction } from \"../trigger-action\"\r\nexport enum ActionListFromEnum {\r\n    project = 'project',\r\n}\r\nexport enum TriggerOrActionListTypeEnum {\r\n    addAction = 'add',\r\n    updateAction = 'update',\r\n}\r\nexport interface ITriggerOrActionListPageParams extends ParsedUrlQueryInput{\r\n    // 如果actionType是addAction，则target是taskData的id\r\n    // 如果actionType是updateAction，则target是actionData的id\r\n    // target: string\r\n    // 动作列表里选择动作后要返回的路径\r\n    backPath?: string\r\n    // 本次操作的类型\r\n    type: TriggerOrActionListTypeEnum\r\n    projectId:string\r\n    triggerActionGroupId:string\r\n    triggerActionId:string\r\n    actionGroupId:string\r\n    // 如果是更新，则必须有actionId\r\n    actionId?:string\r\n    // 如果是添加，则必须有actionType\r\n    // actionType为namespace/openApp这种样子的，这样能够从actionMap里找到这个action来进行添加\r\n    // 这个需要在动作列表里选择了具体的action之后才能知道，所以在传递过程中这个可以为空，在pages/action-list/index.tsx里会根据actionId来找到具体的actionType\r\n    actionType:string\r\n    // 处理函数名，在map里\r\n    // handlerFnName:string\r\n}\r\nexport interface ITriggerOrActionListParamsData{\r\n    project?:IProjectData\r\n    triggerActionGroup?:ITriggerActionGroup\r\n    triggerAction?:ITriggerAction\r\n    actionGroup?:IActionGroup\r\n    triggerGroup?:ITriggerGroup\r\n    action?:IActionData<any,any>\r\n    trigger?:ITriggerData<any,any>\r\n}\r\nexport interface ITriggerOrActionListPageParsedResult{\r\n    params:IActionOrTriggerListPageParams\r\n    data:ITriggerOrActionListParamsData\r\n}\r\nexport function getTriggerOrActionListPageParams(params:IActionOrTriggerListPageParams):ITriggerOrActionListPageParsedResult{\r\n    const project = projectStore.findDraftOrSavedProject(params.projectId)\r\n    const data:ITriggerOrActionListParamsData = {}\r\n    const res = {data, params}\r\n    if(!project)return res\r\n    data.project = project\r\n    if(project.triggerActionGroup.id !== params.triggerActionGroupId)return res\r\n    data.triggerActionGroup = project.triggerActionGroup\r\n    if(!params.triggerActionId)return res\r\n    const triggerAction = data.triggerActionGroup.list.find(item=>item.id === params.triggerActionId)\r\n    if(!triggerAction)return res\r\n    data.triggerAction = triggerAction\r\n    parseAction(data, params, triggerAction)\r\n    parseTrigger(data, params, triggerAction)\r\n    return res\r\n    \r\n}\r\n\r\nfunction parseAction(data:ITriggerOrActionListParamsData, params:IActionOrTriggerListPageParams, triggerAction:ITriggerAction){\r\n    if(!params.actionGroupId || !triggerAction.actionGroup || params.actionGroupId != triggerAction.actionGroup.id)return\r\n    data.actionGroup = triggerAction.actionGroup\r\n    const action = triggerAction.actionGroup.list.find(item=>item.id === params.actionId)\r\n    if(!action)return\r\n    data.action = action\r\n}\r\n\r\nfunction parseTrigger(data:ITriggerOrActionListParamsData, params:IActionOrTriggerListPageParams, triggerAction:ITriggerAction){\r\n    if(!params.triggerGroupId || !triggerAction.triggerGroup || params.triggerGroupId != triggerAction.triggerGroup.id)return\r\n    data.triggerGroup = triggerAction.triggerGroup\r\n    const trigger = triggerAction.triggerGroup.list.find(item=>item.id === params.triggerId)\r\n    if(!trigger)return\r\n    data.trigger = trigger\r\n}\r\n\r\n","\r\nimport { IPackageInfo, appPackagesStore } from \"@app/static\";\r\nimport { autoWebViewJs } from \"../\";\r\nimport { isRealInAndroid } from \"../is-in-android\";\r\n// import { readAllPackagesMockData } from \"./mock-data/readAllPackages\";\r\nconst script = `com.fanfanlo.droid.js.JsReceiver.readAllPackages();`\r\n\r\nfunction readAllPackages():IPackageInfo[]{\r\n    let res = autoWebViewJs.callScript<IPackageInfo[]>(script);\r\n    const list =  (res.javaResultData || []) as IPackageInfo[]\r\n    appPackagesStore.savePackages(list)\r\n    return list\r\n}\r\nasync function mockReadAllPackages():Promise<IPackageInfo[]>{\r\n    const list = [\r\n        {\r\n            label: \"test\",\r\n            iconBase64: \"test\",\r\n            packageName: \"test\"\r\n        }\r\n    ]\r\n\r\n    // if(appPackagesStore.data.list.length > 0)return appPackagesStore.data.list\r\n    const mockData = await import('./mock-data/readAllPackages')\r\n    appPackagesStore.savePackages(mockData.readAllPackagesMockData as IPackageInfo[])\r\n    return mockData.readAllPackagesMockData\r\n}\r\n\r\nexport const readAllPackagesScript = {\r\n    script,\r\n    readAllPackages: isRealInAndroid ? readAllPackages : mockReadAllPackages,\r\n}\r\n","import { ActionOrTriggerListTypeEnum, appPackagesStore, IActionOrTriggerListPageParams, IPackageInfo, routerUtils } from \"@app/static\";\r\nimport { readAllPackagesScript } from \"@droid/android/\";\r\nimport { proxyWatch, storeUtils, throwTraceError, toProxy, useProxyWatch, useTranslation } from \"@fanfanlo\";\r\nimport RefreshIcon from '@mui/icons-material/Refresh';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { alpha, Box, Grid2, IconButton, InputBase, List, ListItem, ListItemText, styled, Tab, Tabs } from \"@mui/material\";\r\nimport { useRouter } from \"next/router\";\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { AppbarContainer, AppShell } from \"@app/ui\";\r\nimport { getTriggerOrActionListPageParams, ProjectMemberType } from \"@droid/project-interface\";\r\nimport { actionOpenAppUtils, getActionUtils, IActionOpenAppData } from \"@droid/project-interface\";\r\nimport { projectEventUtils } from \"@droid/project-interface\";\r\nconst storeName = 'app-selector'\r\nconst storage = storeUtils.namespace(storeName)\r\nconst storeRecentlyPackageListKey = 'recentlyPackageList'\r\n\r\nenum TabEnum {\r\n  all = \"all\",\r\n  recently = \"recently\"\r\n}\r\ninterface IPageProps {\r\n  searchKey?: string\r\n  packageList: IPackageInfo[]\r\n  showPackageList: IPackageInfo[]\r\n  recentlyPackageList: IPackageInfo[]\r\n  tab: TabEnum\r\n  onPackageSelect: (packageInfo: IPackageInfo) => void\r\n}\r\n\r\nconst PageContext = createContext<IPageProps>({\r\n  packageList: [],\r\n  showPackageList: [],\r\n  recentlyPackageList: [],\r\n  tab: TabEnum.all,\r\n  onPackageSelect: (packageInfo: IPackageInfo) => { }\r\n})\r\nfunction useController() {\r\n  const router = useRouter()\r\n  const nowPath = router.pathname;\r\n  function onPackageSelect(packageInfo: IPackageInfo) {\r\n    addRecentlyPackage(packageInfo)\r\n    handlePackageSelect(packageInfo)\r\n  }\r\n\r\n  function handlePackageSelect(packageInfo: IPackageInfo) {\r\n    const query = router.query as IActionOrTriggerListPageParams\r\n    switch (query.type) {\r\n      case ActionOrTriggerListTypeEnum.addAction:\r\n        {\r\n          const res = getTriggerOrActionListPageParams(query)\r\n          if (!res.data.actionGroup) {\r\n            console.error('actionGroup is undefined query=', query, 'packageInfo=', packageInfo)\r\n            throw new Error('actionGroup is undefined')\r\n          }\r\n          if(!query.actionType){\r\n            return throwTraceError(`actionType is undefined query=${query}`, query, packageInfo)\r\n          }\r\n          // const utils = ActionUtilsMap[query.actionType]\r\n          const utils = getActionUtils<IActionOpenAppData>(query.actionType)\r\n          if (!utils) throw new Error(`actionType ${query.actionType} is not found`)\r\n          const action = utils.createDefultData()\r\n          switch (query.actionType) {\r\n            case actionOpenAppUtils.type:\r\n              action.javaData.packageName = packageInfo.packageName\r\n              break\r\n            default:\r\n              throw new Error(`actionType ${query.actionType} is not found`)\r\n          }\r\n          // projectEventUtils.dispatchAddEvent(action.type, ProjectMemberType.actionGroup, action, res)\r\n\r\n          projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.add, {\r\n            projectMemberType:ProjectMemberType.actionGroup,\r\n            data:action,\r\n            projectInfo:res.data\r\n          })\r\n          // res.data.actionGroup.list.push(action)\r\n          routerUtils.checkToPath(router, nowPath, query.backPath!, 2)\r\n          // router.back()\r\n          // router.back()\r\n          break\r\n        }\r\n      case ActionOrTriggerListTypeEnum.updateAction: {\r\n        const res = getTriggerOrActionListPageParams(query)\r\n        console.log('res', res)\r\n        if (!res.data.actionGroup) {\r\n          console.error('actionGroup is undefined query=', query, 'packageInfo=', packageInfo)\r\n          throw new Error('actionGroup is undefined')\r\n        }\r\n        if(!res.data.action){\r\n          console.error( `action is undefined query= `, query, `packageinfo=`, packageInfo)\r\n          throw new Error(`action is undefined`)\r\n        }\r\n\r\n          projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.updateJavaData, {\r\n            projectMemberType:ProjectMemberType.action,\r\n            data:{packageName:packageInfo.packageName},\r\n            projectInfo:res.data\r\n          })\r\n        console.log('dispatch event232323456')\r\n        switch (query.actionType) {\r\n          case actionOpenAppUtils.type:\r\n            // const action: IActionOpenAppData = res.data.action as IActionOpenAppData\r\n            // action.javaData.packageName = packageInfo.packageName\r\n            router.back()\r\n            break\r\n          default:\r\n            throw new Error(`actionType ${query.actionType} is not found`)\r\n        }\r\n        break\r\n      }\r\n\r\n    }\r\n  }\r\n  function addRecentlyPackage(packageInfo: IPackageInfo) {\r\n    const index = props.recentlyPackageList.findIndex(item => item.packageName === packageInfo.packageName)\r\n    if (index !== -1) {\r\n      props.recentlyPackageList.splice(index, 1)\r\n    }\r\n    props.recentlyPackageList.unshift(packageInfo)\r\n    storage.write(storeRecentlyPackageListKey, props.recentlyPackageList)\r\n  }\r\n  const props = toProxy<IPageProps>({\r\n    packageList: [],\r\n    showPackageList: [],\r\n    recentlyPackageList: storage.read(storeRecentlyPackageListKey) || [],\r\n    tab: TabEnum.all,\r\n    onPackageSelect\r\n  })\r\n  proxyWatch(props, 'tab', (v, old) => {\r\n    updateShowPackageList()\r\n  })\r\n  proxyWatch(props, 'searchKey', (v, old) => {\r\n    updateShowPackageList()\r\n  })\r\n  function updateShowPackageList() {\r\n    props.showPackageList = [...getShowPackageList()]\r\n  }\r\n  function getTabShowPackageList() {\r\n    if (props.tab === TabEnum.all) {\r\n      return props.packageList\r\n    } else if (props.tab === TabEnum.recently) {\r\n      return props.recentlyPackageList\r\n    }\r\n    throw new Error(\"tab is not valid\")\r\n  }\r\n  function getShowPackageList() {\r\n    const list = getTabShowPackageList()\r\n    if (props.searchKey) {\r\n      return list.filter(item => item.label.includes(props.searchKey!!))\r\n    }\r\n    return list\r\n  }\r\n\r\n  proxyWatch(props, 'searchKey', (v, old) => {\r\n    updateShowPackageList()\r\n  })\r\n\r\n  proxyWatch<{ list: IPackageInfo[] }, IPackageInfo[]>(appPackagesStore.data, 'list', (v, old) => {\r\n    props.packageList = [...appPackagesStore.data.list]\r\n    updateShowPackageList()\r\n  })\r\n  useEffect(() => {\r\n    if (props.packageList.length > 0) return //不为空则跳出\r\n    appPackagesStore.loadPackages()//从缓存读取\r\n    if (appPackagesStore.data.list.length > 0) return //缓存不为空则跳出\r\n    readAllPackagesScript.readAllPackages()//从安卓读取\r\n  }, [])\r\n  updateShowPackageList()\r\n  return [props]\r\n}\r\nfunction AppList() {\r\n  const pageProps = useContext(PageContext)\r\n  const [list] = useProxyWatch<IPageProps, IPackageInfo[]>(pageProps, 'showPackageList', pageProps.showPackageList)\r\n  return (\r\n    <Box>\r\n      <List>\r\n        {list.map((item, index) => (\r\n          <ListItem key={index} onClick={() => pageProps.onPackageSelect(item)}>\r\n            <Grid2 container>\r\n              <Grid2 size=\"grow\" container\r\n              data-id=\"app-selector-893f\">\r\n                <img width={30}\r\n                  style={{ borderRadius: '8px' }}\r\n                  src={`data:image/gif;base64,${item.iconBase64}`}\r\n                />\r\n                <ListItemText primary={item.label} />\r\n              </Grid2>\r\n            </Grid2>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </Box>\r\n  )\r\n}\r\n\r\n\r\nfunction AccessibleTabs() {\r\n  const [value, setValue] = useState(0);\r\n  const { t } = useTranslation(\"homepage/pages/action-list/app-selector/content\")\r\n  const handleChange = (event: React.SyntheticEvent, newValue: number) => {\r\n    setValue(newValue);\r\n    pageProps.tab = newValue === 0 ? TabEnum.all : TabEnum.recently\r\n  };\r\n  const pageProps = useContext(PageContext)\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Tabs sx={{ width: '100%' }}\r\n        onChange={handleChange}\r\n        value={value}\r\n        aria-label=\"Tabs where selection follows focus\"\r\n        selectionFollowsFocus\r\n      >\r\n        <Tab sx={{ width: '50%' }} label={t(\"content.all\")} />\r\n        <Tab sx={{ width: '50%' }} label={t(\"content.recently\")} />\r\n      </Tabs>\r\n    </Box>\r\n  );\r\n}\r\n\r\nconst Search = styled('div')(({ theme }) => ({\r\n  position: 'relative',\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n  '&:hover': {\r\n    backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n  },\r\n  marginLeft: 0,\r\n  width: '100%',\r\n  [theme.breakpoints.up('sm')]: {\r\n    marginLeft: theme.spacing(1),\r\n    width: 'auto',\r\n  },\r\n}));\r\n\r\nconst SearchIconWrapper = styled('div')(({ theme }) => ({\r\n  padding: theme.spacing(0, 2),\r\n  height: '100%',\r\n  position: 'absolute',\r\n  pointerEvents: 'none',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n}));\r\n\r\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  color: 'inherit',\r\n  width: '100%',\r\n  '& .MuiInputBase-input': {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)})`,\r\n    transition: theme.transitions.create('width'),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Title() {\r\n  const { t } = useTranslation(\"homepage/pages/action-list/app-selector/content\")\r\n  const pageProps = useContext(PageContext)\r\n  function onSeachChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    pageProps.searchKey = e.target.value\r\n  }\r\n  return (\r\n    <Grid2 container width={\"100%\"} justifyContent={\"space-between\"}\r\n      sx={{ alignItems: \"center\" }}>\r\n      <Grid2>\r\n\r\n        <Search>\r\n          <SearchIconWrapper>\r\n            <SearchIcon />\r\n          </SearchIconWrapper>\r\n          <StyledInputBase\r\n            onChange={onSeachChange}\r\n            placeholder={t(\"content.searchPlaceholder\")}\r\n            inputProps={{ 'aria-label': 'search' }}\r\n          />\r\n        </Search>\r\n      </Grid2>\r\n      <Grid2>\r\n        <IconButton onClick={() => {\r\n          readAllPackagesScript.readAllPackages()\r\n        }}>\r\n          <RefreshIcon />\r\n        </IconButton>\r\n\r\n      </Grid2>\r\n    </Grid2>\r\n  )\r\n}\r\nexport default function AppSelector() {\r\n  const [props] = useController()\r\n  return (\r\n    <AppShell>\r\n      <PageContext.Provider value={props}>\r\n        <AppbarContainer\r\n        titleConf={{ns:\"homepage/pages/action-list/app-selector/content\", key:\"content.title\"}}\r\n        appbarProps={{\r\n          title: <Title />,\r\n          back: true,\r\n      }}>\r\n        <AccessibleTabs />\r\n        <AppList />\r\n      </AppbarContainer>\r\n    </PageContext.Provider>\r\n    </AppShell>\r\n  )\r\n}\r\n\r\n\r\n"],"names":["projectStore","ActionListFromEnum","TriggerOrActionListTypeEnum","getTriggerOrActionListPageParams","params","project","findDraftOrSavedProject","projectId","data","res","triggerActionGroup","id","triggerActionGroupId","triggerActionId","triggerAction","list","find","item","parseAction","parseTrigger","actionGroupId","actionGroup","action","actionId","triggerGroupId","triggerGroup","trigger","triggerId","ActionOrTriggerListTypeEnum","appPackagesStore","routerUtils","readAllPackagesScript","proxyWatch","storeUtils","throwTraceError","toProxy","useProxyWatch","useTranslation","RefreshIcon","SearchIcon","alpha","Box","Grid2","IconButton","InputBase","List","ListItem","ListItemText","styled","Tab","Tabs","useRouter","createContext","useContext","useEffect","useState","AppbarContainer","AppShell","ProjectMemberType","actionOpenAppUtils","getActionUtils","projectEventUtils","storeName","storage","namespace","storeRecentlyPackageListKey","TabEnum","PageContext","packageList","showPackageList","recentlyPackageList","tab","onPackageSelect","packageInfo","useController","router","nowPath","pathname","addRecentlyPackage","handlePackageSelect","query","type","addAction","console","error","Error","actionType","utils","createDefultData","javaData","packageName","dispatchEditEvent","EditType","add","projectMemberType","projectInfo","checkToPath","backPath","updateAction","log","updateJavaData","back","index","props","findIndex","splice","unshift","write","read","v","old","updateShowPackageList","getShowPackageList","getTabShowPackageList","searchKey","filter","label","includes","length","loadPackages","readAllPackages","AppList","pageProps","map","onClick","container","size","data-id","img","width","style","borderRadius","src","iconBase64","primary","AccessibleTabs","value","setValue","t","handleChange","event","newValue","sx","onChange","aria-label","selectionFollowsFocus","Search","theme","position","shape","backgroundColor","palette","common","white","marginLeft","breakpoints","up","spacing","SearchIconWrapper","padding","height","pointerEvents","display","alignItems","justifyContent","StyledInputBase","color","paddingLeft","transition","transitions","create","Title","onSeachChange","e","target","placeholder","inputProps","AppSelector","Provider","titleConf","ns","key","appbarProps","title"],"sourceRoot":"","ignoreList":[1]}