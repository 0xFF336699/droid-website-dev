{"version":3,"file":"static/chunks/pages/project-editor-7bd5aa857fea293d.js","mappings":"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","sources":["webpack://_N_E/../../libs/droid/project-interface/src/triggers/triggers-namespace.ts","webpack://_N_E/../../libs/droid/project-interface/src/triggers/time/time-namespace.ts","webpack://_N_E/../../libs/droid/project-interface/src/triggers/time/timeout/UI.tsx","webpack://_N_E/../../libs/droid/project-interface/src/triggers/time/timeout/ITriggerTimeout.inft.ts","webpack://_N_E/./src/components/page/trigger-list/groups/time/timeout/timeout.tsx","webpack://_N_E/./src/components/page/trigger-list/groups/time/time-group.ts","webpack://_N_E/../../libs/droid/project-interface/src/triggers/app/app-namespace.ts","webpack://_N_E/../../libs/droid/project-interface/src/triggers/app/when-activity-in/UI.tsx","webpack://_N_E/../../libs/droid/project-interface/src/triggers/app/when-activity-in/ITriggerWhenActivityIn.ts","webpack://_N_E/./src/components/page/trigger-list/groups/app/activity/activity-in.tsx","webpack://_N_E/./src/components/page/trigger-list/groups/app/app-group.ts","webpack://_N_E/./src/components/page/trigger-list/trigger.data.ts","webpack://_N_E/../../node_modules/.pnpm/react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3/node_modules/react-i18next/dist/es/index.js","webpack://_N_E/../../libs/droid/project-interface/src/trigger/ITrigger.intf.tsx","webpack://_N_E/../../../src/watcher/useWatchUpdates.tsx","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/Close.js","webpack://_N_E/../../../../src/mui/dialog/ButtonConfirm.tsx","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/Add.js","webpack://_N_E/?6a94","webpack://_N_E/../../../src/android/jsbridge.ts","webpack://_N_E/../../../../src/mui/dialog/EditableText.tsx","webpack://_N_E/../../libs/droid/project/src/history/projectsHistoryMap.ts","webpack://_N_E/../../libs/droid/project/src/project/manager/edit-project-info-utils.ts","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/contexts.tsx","webpack://_N_E/../../../src/watcher/useWatchListOperation.tsx","webpack://_N_E/../../../src/watcher/updateVersion.ts","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/Handyman.js","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/NotificationsNone.js","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/TableRows.js","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/DeleteOutline.js","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/components/group/GroupCheck.tsx","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/components/list-page-link/ActionListOrTriggerListPageLink.tsx","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/trigger-action-group/trigger-action/action-group/action-list/action/Action.tsx","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/trigger-action-group/trigger-action/action-group/action-list/ActionList.tsx","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/trigger-action-group/trigger-action/action-group/ActionGroup.tsx","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/trigger-action-group/trigger-action/trigger-group/trigger-list/trigger/Trigger.tsx","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/trigger-action-group/trigger-action/trigger-group/trigger-list/TriggerList.tsx","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/trigger-action-group/trigger-action/trigger-group/TriggerGroup.tsx","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/trigger-action-group/trigger-action/TriggerAction.tsx","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/trigger-action-group/TriggerActionGroup.tsx","webpack://_N_E/../../node_modules/.pnpm/@mui+icons-material@6.4.12_@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_re_5ewkm5t5g27pzq5tz62v6ktvti/node_modules/@mui/icons-material/esm/Save.js","webpack://_N_E/../../libs/droid/project/src/project/ui/project/edit-project/EditProject.tsx","webpack://_N_E/./src/pages/project-editor/index.tsx","webpack://_N_E/../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/IconButton/iconButtonClasses.js","webpack://_N_E/../../node_modules/.pnpm/@mui+material@6.4.12_@emotion+react@11.14.0_@types+react@19.1.8_react@19.1.0__@emotion+styled_7n6ip7adzgskiknwagt7k5dnla/node_modules/@mui/material/IconButton/IconButton.js"],"sourcesContent":["import { projectNamespace } from \"../core\";\r\n\r\nexport const triggersNamespace = `${projectNamespace}triggers/`","import { triggersNamespace } from \"../triggers-namespace\";\r\n\r\nexport const timeNamespace = `${triggersNamespace}time/`","import { useProxyWatch, useTranslation } from \"@fanfanlo\";\r\nimport { Box, Grid2 } from \"@mui/material\";\r\nimport { ITriggerTimeoutData } from \"./ITriggerTimeout.inft\";\r\n\r\n\r\nexport function UI(data: ITriggerTimeoutData) {\r\n    const { t } = useTranslation('droid-project-interface/triggers/time/timeout/content')\r\n    const [timeout] = useProxyWatch(data, 'javaData.timeout', data.javaData.timeout)\r\n    return(\r\n        <>\r\n            <Box sx={{ width: '100%' }}>\r\n                <Box>\r\n                    <b>{t('ITriggerTimeout.title')}</b>\r\n                </Box>\r\n                <Grid2 container sx={{ width: '100%' }}>\r\n                    <Grid2 size=\"grow\" container>\r\n                        <Box>\r\n                            <span>\r\n                                {t('ITriggerTimeout.content_delay')}\r\n                            </span>\r\n                            <span>\r\n                                <input\r\n                                    id=\"trigger-timeout-value-input\"\r\n                                    data-id=\"trigger-timeout-value-input\"\r\n                                    type=\"number\" value={timeout} onChange={(e)=>data.javaData.timeout = Number(e.target.value)} />\r\n                            </span>\r\n                            <span>\r\n                                {t('ITriggerTimeout.content_milliseconds')}\r\n                            </span>\r\n                        </Box>\r\n                    </Grid2>\r\n                </Grid2>\r\n            </Box>\r\n        </>\r\n    )\r\n}\r\n","import { ulid } from \"ulid\";\r\nimport { ITriggerData, ITriggerJavaData, ITriggerShellData, createTriggerUtils } from \"../../../trigger\";\r\nimport { timeNamespace } from \"../time-namespace\";\r\nimport { UI } from \"./UI\";\r\n\r\nconst type = `${timeNamespace}timeout`\r\nexport interface ITriggerTimeoutJavaData extends ITriggerJavaData{\r\n    timeout:number\r\n}\r\nexport interface ITriggerTimeoutData extends ITriggerData<ITriggerShellData, ITriggerTimeoutJavaData>{\r\n}\r\n\r\nfunction createDefultData():ITriggerTimeoutData{\r\n    return {\r\n        id:ulid(),\r\n        type,\r\n        javaData:{\r\n            timeout:0\r\n        }\r\n    }\r\n}\r\n\r\nfunction init(){\r\n    \r\n}\r\n\r\nexport const triggerTimeoutUtils = createTriggerUtils(type, init, createDefultData, UI)\r\n\r\n\r\n","import { ActionOrTriggerListTypeEnum, IActionOrTriggerListPageParams } from \"@app/static\";\r\nimport { getTriggerOrActionListPageParams, ProjectMemberType, triggerTimeoutUtils } from \"@droid/project-interface\";\r\nimport { projectEventUtils } from \"@droid/project-interface\";\r\nimport { throwTraceError } from \"@fanfanlo\";\r\nimport { createActionOrTriggerButtonRender, IActionOrTriggerItem } from \"../../../../../../components/trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\n\r\nexport const timeoutTriggerItem:IActionOrTriggerItem = {\r\n    id: \"timeout-trigger-item-ce8c\",\r\n    i18nNs: \"homepage/components/page/trigger-list/groups/time/timeout/content\",\r\n    nameKey: \"content.name\",\r\n    group: \"timeoutTriggerItem.group\",\r\n    descriptionKey: \"content.description\",\r\n    type: \"trigger\",\r\n    LinkRender: createActionOrTriggerButtonRender(onSelect)\r\n}\r\n\r\nfunction onSelect({query, item}:{query:IActionOrTriggerListPageParams, item:IActionOrTriggerItem}){\r\n    const res = getTriggerOrActionListPageParams(query)\r\n    switch(query.type){\r\n        case ActionOrTriggerListTypeEnum.addAction:\r\n            const trigger = triggerTimeoutUtils.createDefultData()\r\n            if(!res.data.triggerGroup){\r\n                return throwTraceError('triggerGroup is not found', query)\r\n            }\r\n            projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.add, {\r\n                projectMemberType: ProjectMemberType.triggerGroup,\r\n                data:trigger,\r\n                projectInfo:res.data\r\n            })\r\n            // res.data.triggerGroup.list.push(trigger)\r\n            // router.back()\r\n            window.history.back()\r\n            break;\r\n        case ActionOrTriggerListTypeEnum.updateAction:\r\n            \r\n            break;\r\n    }\r\n}","import { IActionOrTriggerGroup } from \"../../../../trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\nimport { timeoutTriggerItem } from \"./timeout/timeout\";\r\n\r\nexport const timeGroup:IActionOrTriggerGroup = {\r\n    i18nNs: \"homepage/components/page/trigger-list/groups/time/content\",\r\n    nameKey: \"content.name\",\r\n    descriptionKey: \"content.description\",\r\n    items: [\r\n        timeoutTriggerItem\r\n    ]\r\n}","import { triggersNamespace } from \"../triggers-namespace\";\r\n\r\nexport const appNamespace = `${triggersNamespace}app/`","import { ITriggerWhenActivityInData } from \"./ITriggerWhenActivityIn\"\r\nimport { useTranslation, useProxyWatch } from \"@fanfanlo\";\r\nimport { Box, Grid2, Stack, Button } from \"@mui/material\";\r\nimport { useRouter } from \"next/router\";\r\nimport { childToProjectDataUtils, IChildToProjectData } from \"../../../utils\";\r\nimport { IActionOrTriggerListPageParams, ActionOrTriggerListTypeEnum } from \"@app/static\";\r\nimport { triggerWhenActivityInUtils } from \"./ITriggerWhenActivityIn\";\r\nexport function UI(data: ITriggerWhenActivityInData){\r\n    const { t } = useTranslation('droid-project-interface/triggers/app/when-activity-in/content')\r\n    const router = useRouter()\r\n    const backPath = router.pathname;\r\n    const [pn] = useProxyWatch(data, \"javaData.pn\", data.javaData.pn)\r\n    const [an] = useProxyWatch(data, \"javaData.an\", data.javaData.an)\r\n    const [cn] = useProxyWatch(data, \"javaData.cn\", data.javaData.cn)\r\n    function onChangeClick() {\r\n        const projectInfo: IChildToProjectData = {}\r\n        childToProjectDataUtils.triggerList.getTriggerListByProp(data, projectInfo)\r\n        if (!projectInfo.project?.id || !projectInfo.triggerActionGroup?.id || !projectInfo.triggerAction?.id || !projectInfo.triggerGroup?.id) {\r\n            console.error('UpdateAppLink projectInfo is undefined', projectInfo)\r\n            return\r\n        }\r\n\r\n        const query: IActionOrTriggerListPageParams = {\r\n            backPath,\r\n            projectId: projectInfo.project?.id,\r\n            triggerActionGroupId: projectInfo.triggerActionGroup?.id,\r\n            triggerActionId: projectInfo.triggerAction?.id,\r\n            triggerGroupId: projectInfo.triggerGroup?.id,\r\n            type: ActionOrTriggerListTypeEnum.updateAction,\r\n            triggerId: data.id,\r\n            triggerType: triggerWhenActivityInUtils.type,\r\n        }\r\n        triggerWhenActivityInUtils.onClickChange?.({query})\r\n    }\r\n    return(\r\n        <>\r\n            <Box sx={{ width: '100%' }}>\r\n                <Box>\r\n                    <b>{t('content.title')}</b>\r\n                </Box>\r\n                <Grid2 container sx={{ width: '100%' }}>\r\n                    <Grid2 size=\"grow\" container>\r\n                        <Stack direction=\"column\" spacing={2}>\r\n                            <Box>\r\n                                <span>\r\n                                    {t('content.pnLabel')}\r\n                                </span>\r\n                                <span>\r\n                                    {pn}\r\n                                </span>\r\n                            </Box>\r\n                            <Box>\r\n                                <span>\r\n                                    {t('content.anLabel')}\r\n                                </span>\r\n                                <span>\r\n                                    {an}\r\n                                </span>\r\n                            </Box>\r\n                            <Box>\r\n                                <span>\r\n                                    {t('content.cnLabel')}\r\n                                </span>\r\n                                <span>\r\n                                    {cn}\r\n                                </span>\r\n                            </Box>\r\n                        </Stack>\r\n                    </Grid2>\r\n                    <Grid2 size={\"auto\"}>\r\n                        <Button onClick={onChangeClick}>\r\n                            <span>{t('content.changeBtnLabel')}</span>\r\n                        </Button>\r\n                    </Grid2>\r\n                </Grid2>\r\n            </Box>\r\n        </>\r\n    )\r\n}","import { createTriggerUtils, ITriggerData, ITriggerShellData } from \"../../../trigger/ITrigger.intf\";\r\nimport { appNamespace } from \"../app-namespace\";\r\nimport { ulid } from \"ulid\";\r\nimport { UI } from \"./UI\";\r\n\r\nconst type = `${appNamespace}when-activity-in`\r\n\r\nexport interface ITriggerWhenActivityInJavaData{\r\n    pn:string\r\n    an:string\r\n    cn?:string\r\n}\r\n\r\nexport interface ITriggerWhenActivityInData extends ITriggerData<ITriggerShellData, ITriggerWhenActivityInJavaData>{\r\n    \r\n}\r\n\r\nfunction createDefultData():ITriggerWhenActivityInData{\r\n    return {\r\n        id:ulid(),\r\n        type,\r\n        javaData:{\r\n            pn:\"\",\r\n            an:\"\",\r\n            cn:\"\"\r\n        }\r\n    }\r\n}\r\n\r\nfunction init(){\r\n    \r\n}   \r\n\r\nexport const triggerWhenActivityInUtils = createTriggerUtils<ITriggerWhenActivityInData>(type, init, createDefultData, UI)  ","import { IActionOrTriggerListPageParams } from \"@app/static\";\r\nimport { autoWebViewJs, isRealInAndroid, openPnAnInfoWindow, PnAnResultData } from \"@droid/android\";\r\nimport { getTriggerOrActionListPageParams, projectEventUtils } from \"@droid/project-interface\";\r\nimport { createActionOrTriggerButtonRender, IActionOrTriggerItem } from \"@src/components/trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\nimport { triggerWhenActivityInUtils } from \"@droid/project-interface\";\r\nimport { ProjectMemberType } from \"@droid/project-interface\";\r\nimport { createRandomEnglishCharacters } from \"@fanfanlo\";\r\n\r\n\r\nexport const activityInItem:IActionOrTriggerItem = {\r\n    id: \"activity-in-item-ce8c\",\r\n    i18nNs: \"homepage/components/page/trigger-list/groups/app/activity/content\",\r\n    nameKey: \"content.name\",\r\n    group: \"activityInItem.group\",\r\n    descriptionKey: \"content.description\",\r\n    type: \"trigger\",\r\n    LinkRender: createActionOrTriggerButtonRender(onAddSelect)\r\n}\r\ntriggerWhenActivityInUtils.onClickChange = onChangeSelect\r\n// async function onSelect({query, item}:{query:IActionOrTriggerListPageParams, item:IActionOrTriggerItem}){\r\n//     const res = getTriggerOrActionListPageParams(query)\r\n//     let info:PnAnResultData ;\r\n//     if(isRealInAndroid){\r\n//         info = await openPnAnInfoWindow()\r\n//     }else{\r\n//         info = {\r\n//             pn:`${createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)}.${createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)}.${createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)}`,\r\n//             an:createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)\r\n//         }\r\n//     }\r\n//     console.log('info=', info)\r\n//     const trigger = triggerWhenActivityInUtils.mergeDataToDefultData({javaData:{pn:info.pn, an:info.an, cn:info.cn}})\r\n//     projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.add,{\r\n//         data:trigger,\r\n//         projectMemberType:ProjectMemberType.triggerGroup,\r\n//         projectInfo:res.data\r\n//     })\r\n//     window.history.back()\r\n// }\r\n\r\n\r\n\r\nasync function onSelect(){\r\n    let info:PnAnResultData ;\r\n    if(isRealInAndroid){\r\n        info = await openPnAnInfoWindow(true)\r\n    }else{\r\n        info = {\r\n            pn:`${createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)}.${createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)}.${createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)}`,\r\n            an:createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5),\r\n            cn:createRandomEnglishCharacters(Math.floor(Math.random() * 5) + 5)\r\n        }\r\n    }\r\n    // console.log('info1=', info)\r\n    return info\r\n}\r\nasync function onAddSelect({query}:{query:IActionOrTriggerListPageParams}){\r\n    const info = await onSelect()\r\n    const res = getTriggerOrActionListPageParams(query)\r\n    const action = triggerWhenActivityInUtils.mergeDataToDefultData({javaData:{pn:info.pn, an:info.an, cn:info.cn}})\r\n    projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.add,{\r\n        data:action,\r\n        projectMemberType:ProjectMemberType.triggerGroup,\r\n        projectInfo:res.data\r\n    })\r\n    console.log('ccccccccccccccall open self')\r\n    autoWebViewJs.openSelfByPackage()\r\n    window.history.back()\r\n}\r\n\r\nasync function onChangeSelect({query}:{query:IActionOrTriggerListPageParams}){\r\n    const info = await onSelect()\r\n    const res = getTriggerOrActionListPageParams(query)\r\n    projectEventUtils.dispatchEditEvent(projectEventUtils.EditType.updateJavaData,{\r\n        data:info,\r\n        projectMemberType:ProjectMemberType.trigger,\r\n        projectInfo:res.data\r\n    })\r\n    autoWebViewJs.openSelfByPackage()\r\n}","import { IActionOrTriggerGroup } from \"../../../../trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\nimport { activityInItem } from \"./activity/activity-in\";\r\n\r\nexport const appGroup:IActionOrTriggerGroup = {\r\n    i18nNs: \"homepage/components/page/trigger-list/groups/app/content\",\r\n    nameKey: \"content.name\",\r\n    descriptionKey: \"content.description\",\r\n    items: [\r\n        activityInItem\r\n    ]\r\n}   ","import { IActionOrTriggerGroupList } from \"../../trigger-list-action-list-common/ITriggerList-IActionList-common.intf\";\r\nimport { timeGroup } from \"./groups/time/time-group\";\r\nimport { appGroup } from \"./groups/app/app-group\";\r\n\r\nexport const triggerListGroups:IActionOrTriggerGroupList = [\r\n    timeGroup,\r\n    appGroup\r\n]\r\n\r\nexport async function initTriggerListGroups(){\r\n    triggerListGroups\r\n}\r\n","export * from \"C:\\\\work\\\\android-droid\\\\html\\\\website-2024-12\\\\node_modules\\\\.pnpm\\\\react-i18next@15.6.0_i18next@24.2.3_typescript@5.7.3__react-dom@19.1.0_react@19.1.0__react@19.1.0_typescript@5.7.3\\\\node_modules\\\\react-i18next\\\\dist\\\\es\\\\index.js\"","import { IActionOrTriggerListPageParams } from \"@app/static\";\r\nimport { INameIDData } from \"../common/INameIDData.intf\";\r\nimport { IPermissionData } from \"../permission\";\r\nimport { createMergeToDefaultData, mergeDataWith } from \"../utils/mergeToDefaultData\";\r\nimport { ITriggerGroup } from \"./ITriggerGroup.intf\";\r\n\r\nexport interface ITriggerOn{\r\n    id:string\r\n}\r\nexport interface ITriggerOff{\r\n    id:string\r\n}\r\nexport interface ITriggerJavaData {\r\n    on?:ITriggerOn[]\r\n    off?:ITriggerOff[]\r\n}\r\nexport interface ITriggerShellData {\r\n}\r\n\r\nexport interface ITriggerData<T extends ITriggerShellData, U extends ITriggerJavaData> extends INameIDData<T, U>{\r\n    // type:string\r\n    // i18n?:II18nValueConf\r\n    permissions?:IPermissionData[]\r\n    javaData:U\r\n}\r\n\r\n\r\nexport interface ITriggerUtils<T extends ITriggerData<ITriggerShellData, ITriggerJavaData>>{\r\n    type:string\r\n    mergeDataToDefultData:(data:Partial<T>)=>T\r\n    createDefultData:()=>T,\r\n    create:(triggerGroup:ITriggerGroup, data?:Partial<T>)=>void\r\n    update:(trigger:T, data?:Partial<T>)=>void\r\n    UI:(data:T)=>React.ReactNode\r\n    init:()=>void\r\n    //点击更改按钮后调用不是page页面的时候需要，例如更改返回首页.\r\n    onClickChange?:(data:{query:IActionOrTriggerListPageParams}, ...rest:any[])=>void\r\n}\r\n\r\nexport interface ITriggerUtilsMap{\r\n    [key:string]:ITriggerUtils<any>\r\n}\r\n\r\nexport const TriggerUtilsMap:ITriggerUtilsMap = {}\r\n\r\nexport function registerTriggerUtils(key:string,utils:ITriggerUtils<any>){\r\n    if(key in TriggerUtilsMap){\r\n        throw new Error(`TriggerUtilsMap already has key: ${key}`)\r\n    }\r\n    TriggerUtilsMap[key] = utils\r\n}\r\n\r\nexport function getTriggerUtils<T extends ITriggerData<ITriggerShellData, ITriggerJavaData>>(key:string):ITriggerUtils<T>{\r\n    return TriggerUtilsMap[key]\r\n}\r\n\r\nexport function createTriggerUtils<T extends ITriggerData<ITriggerShellData, ITriggerJavaData>>(type:string, init:()=>void, createDefultData:()=>T, UI:(data:T)=>React.ReactNode):ITriggerUtils<T>{\r\n    const res = {\r\n        type,\r\n        mergeDataToDefultData:createMergeToDefaultData(createDefultData),\r\n        createDefultData,\r\n        create:(triggerGroup:ITriggerGroup, data?:Partial<T>)=>{\r\n            const trigger = createDefultData()\r\n            triggerGroup.list.push(trigger)\r\n        },\r\n        update:(trigger:T, data?:Partial<T>)=>{\r\n            mergeDataWith(trigger, data)\r\n        },\r\n        UI,\r\n        init,\r\n    }\r\n    registerTriggerUtils(type,res)\r\n    return res\r\n}   \r\n","import _ from \"lodash\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { IWatchUpdatesConfig, watchUpdates } from \"./watchUpdates\"\r\nimport { PropertiesChain, toProxy } from \"./proxyWatch\"\r\nimport { useProxyWatch } from \"./useProxyWatch\"\r\nimport { objectCountUtils } from \"../utils\"\r\nimport { useWatch } from \"./UseWatch\"\r\nimport { Log } from \"../log\"\r\n\r\n/**\r\n * \r\n * 注意，返回的无论是object还是array，都无法监听，因为它们不是proxy，而是原始对象的副本\r\n * @param target 要监听的对象\r\n * @param conf 监听配置\r\n * @returns 监听的对象\r\n */\r\nexport function useWatchUpdates<T extends object>(target: T, conf?: IWatchUpdatesConfig<T>): [T] {\r\n    const [value, setValue] = useState<T>(target)\r\n    useEffect(() => {\r\n        console.log('use watch updates look look id', objectCountUtils.getObjectCount(target))\r\n        watchUpdates(target, (info) => {\r\n            console.log('uuuuuuuuuupdated', info)\r\n            console.log('tttttttarget=', target);\r\n            const now = _.isArray(info.target) ? [...info.target] : info.target\r\n            // setValue(now as T)\r\n            setValue((_.isArray(target) ? [...target] : { ...target }) as T)\r\n        }, conf)\r\n    }, [])\r\n    return [value as T]\r\n}\r\n\r\n/**\r\n * useProxyWatch + useWatchUpdates 结合体\r\n * 因为react的刷新机制，所以第二个state必须得用setState才会生效。\r\n * 不然其实这是两行代码，第一行是useProxyWatch，第二行是useWatchUpdates就可以了。\r\n * @param target 要监听的对象\r\n * @param propertyChain 要监听的属性链\r\n * @param defaultValue 默认值\r\n * @param conf 监听配置\r\n * @returns 监听的对象 返回的第一个参数是重新拼装的{...arr} or {...obj}，第二个参数是原始的target or defaultValue\r\n */\r\nexport function useProxyWatchUpdates<T extends object, U extends object>(target: T,\r\n    propertyChain: PropertiesChain<T>,\r\n    defaultValue: U,\r\n    conf?: IWatchUpdatesConfig<U>): [U, U] {\r\n        const logger = new Log(false, 'useProxyWatchUpdates_fn');\r\n        logger.pause = true;\r\n    const [v] = useProxyWatch(target, propertyChain, defaultValue)\r\n    const [value, setValue] = useState<U>(v);\r\n    logger.log(`propertyChain=`, propertyChain);\r\n    logger.log(`value=`, value);\r\n    logger.log('v=', v);\r\n    logger.log('defaultValue=', defaultValue)\r\n    useEffect(() => {\r\n        logger.log(`useEffect_fn v=`, v)\r\n        const newValue = _.isArray(v)\r\n            ? [...v]\r\n            : Object.assign({}, v);\r\n\r\n        setValue(newValue as U);\r\n        if(!v){\r\n            console.log('target=', target)\r\n            console.log('propertyChain=', propertyChain)\r\n            console.log('defaultValue=', defaultValue)\r\n            console.log('conf=', conf)\r\n            console.trace('v is null')\r\n            return;\r\n        }\r\n        return watchUpdates(v, (info) => {\r\n            logger.log('watchUpdates_fn', 'info=', info)\r\n            // setValue((_.isArray(v) ? [...v ] : {...v}) as U)\r\n            // 使用 Object.assign 来避免循环引用\r\n            const newValue = _.isArray(v)\r\n                ? [...v]\r\n                : Object.assign({}, v);\r\n\r\n            setValue(newValue as U);\r\n        }, conf)\r\n    }, [v])\r\n    return [value, v]\r\n}\r\n\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","import { Button, Dialog, DialogActions, DialogContent, DialogTitle } from \"@mui/material\"\r\nimport React, { PropsWithChildren, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nexport interface ButtonConfirmProps {\r\n    title?: string | React.ReactNode\r\n    content?: string | React.ReactNode\r\n    confirmText?: string | React.ReactNode\r\n    cancelText?: string | React.ReactNode\r\n    onConfirm?: () => void\r\n    onCancel?: () => void\r\n    onClose?: (confirmed:boolean) => void\r\n    cancelId?: string\r\n    confirmId?: string\r\n}\r\n\r\nexport function ButtonConfirm({ title, content, confirmText, cancelText, onConfirm, onCancel, onClose , cancelId, confirmId, children }: ButtonConfirmProps & PropsWithChildren) {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const {t} = useTranslation('fanfanlo/mui/dialog/content')\r\n    return (\r\n        <>\r\n            <span onClick={() => setIsOpen(true)}>\r\n                {children}  \r\n            </span>\r\n            <Dialog open={isOpen} onClose={() => setIsOpen(false)}>\r\n                <DialogTitle>{title || t('ButtonConfirm.title')}</DialogTitle>\r\n                <DialogContent>{content || t('ButtonConfirm.content')}</DialogContent>\r\n                <DialogActions>\r\n                    <Button id={cancelId || 'btn-dialog-button-confirm-cancel'}\r\n                    data-id={cancelId || 'btn-dialog-button-confirm-cancel'}\r\n                    onClick={()=>{setIsOpen(false); onCancel?.();onClose?.(false)}}>{cancelText || t('ButtonConfirm.cancel')}</Button>\r\n                    <Button id={confirmId || 'btn-dialog-button-confirm-confirm'}\r\n                    data-id={confirmId || 'btn-dialog-button-confirm-confirm'}\r\n                    onClick={()=>{setIsOpen(false); onConfirm?.();onClose?.(true)}}>{confirmText || t('ButtonConfirm.confirm')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"\n}), 'Add');","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/project-editor\",\n      function () {\n        return require(\"private-next-pages/project-editor/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/project-editor\"])\n      });\n    }\n  ","import { Dispatcher, IDispatcherEventMap, createDispatchEvent } from \"@fanfanlo\";\r\n\r\nconst hasWindow = typeof window !== \"undefined\";\r\nexport let androidJsGlobalName = \"android\"\r\nexport let android = hasWindow ? (window as any)[androidJsGlobalName] : '';\r\nexport const global = (hasWindow ? window.global || (window.global=window) : {}) as any;\r\nexport const jsBridgeDispatcher = new Dispatcher()\r\n\r\nexport interface ICheckBrowserCanBackEvent{\r\n    canBack:boolean\r\n}\r\nexport interface IJsBridgeEventMap extends IDispatcherEventMap{\r\n    // 安卓询问js是否可以响应后退键\r\n    checkBrowserCanBack: (event:ICheckBrowserCanBackEvent)=>void\r\n}\r\nexport function getWebViewJsId(){\r\n    return android ? android.webViewJsId() : \"-1\";\r\n}\r\nconst listeningMap:Record<string, any> = {}\r\n// initJsBridge();\r\nlet initJsBridgeCalled = false\r\n// 供安卓调用js，必须初始化。\r\nexport function initJsBridge(){\r\n    if(!android)return;\r\n    if(initJsBridgeCalled)return;\r\n    initJsBridgeCalled = true\r\n    global.onCallJsEvent = function (event:any){\r\n        console.log(\"js bridge global event\", JSON.stringify(event));\r\n        if(!event)return;\r\n        try {\r\n            for (const [index, value] of Object.entries(listeningMap)) {\r\n                if(value.callbackEventType !== event.type)continue;\r\n                value.fun(event.data);\r\n                if(value.once){\r\n                    delete listeningMap[index];\r\n                    // webViewJsListen时传入了once，所以java端自己就卸载侦听了\r\n                    // webViewJsRemoveListen(value.target, index)\r\n                }\r\n            }\r\n            const e = createDispatchEvent(event.data, undefined, undefined, event.type)\r\n            jsBridgeDispatcher.dispatch(event.type, e)\r\n            // 返回时不需要json序列化，容器会对其进行自动序列化\r\n            if(e.result !== undefined)return e.result \r\n            // 如果没有事件的返回值，则返回一个统一的__okkey__\r\n            return \"__okkey__\"\r\n        }catch (e){\r\n            console.log('global on call js event error', e);\r\n        }\r\n        return ;\r\n    }\r\n}\r\nexport function webViewJsListen(target:any, type:any, callbackEventType:any, once:any, fun:any){\r\n    if(!android)return -1;\r\n    const index = android?.listen(target, type, callbackEventType, once)\r\n    if(!index)return -1;\r\n    let key = index.toString();\r\n    try{\r\n        key = `${typeof target === 'string' ? target : 'target'}-${typeof type === 'string' ? type : 'type'}-${typeof callbackEventType === 'string' ? callbackEventType : 'callbackEventType'}-${typeof index === 'string' ? index : index.toString()}`\r\n    }catch(e){\r\n        console.log('listen_fn 2 error', e)\r\n    }\r\n    listeningMap[key] = {once, fun, target, type, callbackEventType}\r\n    return key;\r\n}\r\n\r\nexport function webViewJsRemoveListen(target:any, index:any){\r\n    if(!android)return;\r\n    return android.removeListen(target, index)\r\n}\r\n","import { Button, Dialog, DialogActions, DialogContent, DialogTitle, TextField } from \"@mui/material\"\r\nimport { PropsWithChildren, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\ninterface IEditableTextProps {\r\n    setText: (text: string) => void\r\n    title?: string\r\n    cancelText?: string\r\n    saveText?: string\r\n    contentText?: string\r\n    helperText?: string\r\n    minHeight?: string\r\n}\r\nimport React from 'react'\r\nexport function EditableText({ setText, title, cancelText, saveText, contentText, helperText, minHeight, children }: IEditableTextProps & PropsWithChildren) {\r\n    const { t } = useTranslation('fanfanlo/mui/dialog/content')\r\n    const [editText, setEditText] = useState('')\r\n    const [isEditing, setIsEditing] = useState(false)\r\n    function handleEdit(s: string) {\r\n        setEditText(s)\r\n    }\r\n    return (\r\n        <>\r\n            <span style={{cursor: 'pointer', width: '100%', textAlign: 'center', display:\"inline-block\", backgroundColor: '', minHeight:minHeight || '1rem'}} onClick={() => setIsEditing(true)}><span >{children || ''}</span></span>\r\n            {isEditing && (\r\n                <Dialog open={isEditing} onClose={() => setIsEditing(false)}>\r\n                    <DialogTitle>{title ||t('EditableText.title')}</DialogTitle>\r\n                    {contentText && <DialogContent>{contentText}</DialogContent>}\r\n                    <DialogContent>\r\n                        <TextField\r\n                        id=\"editable-text\"\r\n                        aria-label=\"editable-text\"\r\n                            autoFocus\r\n                            required\r\n                            fullWidth\r\n                            helperText={helperText}\r\n                            variant=\"standard\"\r\n                            value={editText} onChange={(e) => handleEdit(e.target.value)} />\r\n\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button\r\n                        id=\"editable-text-cancel\"\r\n                        data-id=\"editable-text-cancel\"\r\n                        onClick={() => setIsEditing(false)}>{cancelText || t('EditableText.cancel')}</Button>\r\n                        <Button\r\n                        id=\"editable-text-save\"\r\n                        data-id=\"editable-text-save\"\r\n                        onClick={() => { setIsEditing(false); setText(editText) }}>{saveText || t('EditableText.save')}</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\n","import { IProjectData } from \"@droid/project-interface\";\r\nimport { getProxyTarget, proxyUtils } from \"@fanfanlo\";\r\nimport _ from \"lodash\";\r\nimport { IProjectHistory } from \"./IProjectHistory.intf\";\r\n\r\nexport const projectsHistoryMap = new Map<string, IProjectHistory[]>()\r\n\r\nexport function addProjectHistory(history:IProjectHistory){\r\n    proxyUtils.runPauseProxyFn(()=>{\r\n        history.project = _.cloneDeep(getProxyTarget(history.project))\r\n    })\r\n    const p = history //_.cloneDeep(getProxyTarget(history))\r\n    const list = projectsHistoryMap.get(history.project.id)\r\n    if(!list){\r\n        projectsHistoryMap.set(history.project.id, [p])\r\n        return\r\n    }\r\n    list.push(p)\r\n}\r\n\r\nexport function getProjectHistory(projectId:string){\r\n    return projectsHistoryMap.get(projectId) || []\r\n}\r\n\r\nexport function removeProjectHistory(projectId:string){\r\n    projectsHistoryMap.delete(projectId)\r\n}\r\n\r\nexport function getProjectLastHistory(projectId:string){\r\n    const list = getProjectHistory(projectId)\r\n    return list[list.length - 1]\r\n}\r\n\r\nexport function takeProjectSnapshoot(project:IProjectData):boolean{\r\n    const last = getProjectLastHistory(project.id)\r\n    if(last && _.isEqual(last.project, project)){\r\n        return false\r\n    }\r\n    addProjectHistory({\r\n        index: last ? last.index + 1 : 0,\r\n        project,\r\n        date: new Date().toISOString()\r\n    })   \r\n    return true\r\n}\r\n\r\nexport function projectHistoryIsChanged(project:IProjectData):boolean{\r\n    const last = getProjectLastHistory(project.id)\r\n    return !last || !_.isEqual(last.project, project)\r\n\r\n}\r\n\r\nexport function isSameProjectHistoryId(id:number, projectId:string):boolean{\r\n    const last = getProjectLastHistory(projectId)\r\n    return last?.index === id\r\n}","import { IProjectData, projectStore } from '@droid/project-interface';\r\nimport { Dispatcher, loadI18nValue, Log, toProxy } from '@fanfanlo';\r\nimport { IProjectEditInfo } from './IProjectEditInfo.intf';\r\n// import { projectStore } from '../../storage';    \r\nimport toast from 'react-hot-toast';\r\nconst map: { [key: string]: IProjectEditInfo } = toProxy({});\r\nconst dispatcher = new Dispatcher();\r\nconst projectSavedEvent = 'project-saved';\r\nexport const editProjectInfoUtils = {\r\n  edit: (project: IProjectData) => {\r\n    // const info = map[project.id] || (map[project.id] = createProjectEditInfo(project));\r\n    const info = (map[project.id] = createProjectEditInfo(project));\r\n    return info;\r\n  },\r\n  getEditInfoById: (id: string) => {\r\n    if (map[id]) return map[id];\r\n    const project = projectStore.findProject(id);\r\n    if (project) return (map[id] = createProjectEditInfo(project));\r\n    return null;\r\n  },\r\n  listenProjectSaved: (fn: (project: IProjectData) => void) => {\r\n    return dispatcher.addListener(projectSavedEvent, fn);\r\n  },\r\n};\r\n\r\nexport function createProjectEditInfo(project: IProjectData): IProjectEditInfo {\r\n  const info = toProxy({\r\n    project,\r\n    askStay: false,\r\n    giveup: false,\r\n    updated: false,\r\n    historyId: 0,\r\n    testTime: new Date().toLocaleString(),\r\n    save: async () => {\r\n      info.updated = false;\r\n      info.askStay = false;\r\n      info.giveup = false;\r\n      projectStore.saveProject(project);\r\n      dispatcher.dispatch(projectSavedEvent, project);\r\n      const s = await loadI18nValue('droid-project/project/manager/content', 'edit-project-info-utils.projectSaved');\r\n      toast.success(s);\r\n    },\r\n  });\r\n  return info;\r\n}\r\n","import { createContext } from \"react\";\r\nimport { IProjectEditInfo } from \"../../..\";\r\nimport { IActionData, IActionGroup, IActionJavaData, IActionShellData, ITriggerAction, ITriggerActionGroup, ITriggerData, ITriggerGroup, ITriggerJavaData, ITriggerShellData } from \"@droid/project-interface\";\r\n\r\nexport const ProjectEditInfoContext = createContext<IProjectEditInfo>({} as IProjectEditInfo)\r\n\r\n// export const TriggerActionGroupContext = createContext<ITriggerActionGroup>({} as ITriggerActionGroup)\r\n\r\n// export const TriggerActionContext = createContext<ITriggerAction>({} as ITriggerAction)\r\n\r\n// export const TriggerGroupContext = createContext<ITriggerGroup>({} as ITriggerGroup)\r\n\r\n// export const TriggerListContext = createContext<ITriggerData<ITriggerShellData, ITriggerJavaData>[]>([] as ITriggerData<ITriggerShellData, ITriggerJavaData>[])\r\n\r\n// export const TriggerContext = createContext<ITriggerData<ITriggerShellData, ITriggerJavaData>>({} as ITriggerData<ITriggerShellData, ITriggerJavaData>)\r\n\r\n// export const ActionGroupContext = createContext<IActionGroup>({} as IActionGroup)\r\n\r\n// export const ActionListContext = createContext<IActionData<IActionShellData, IActionJavaData>[]>([] as IActionData<IActionShellData, IActionJavaData>[])\r\n\r\n// export const ActionContext = createContext<IActionData<IActionShellData, IActionJavaData>>({} as IActionData<IActionShellData, IActionJavaData>)","import { useEffect, useState } from \"react\"\r\nimport { getProxyDispatcher } from \".\"\r\nimport { listenAnyWildcard } from \"../dispatcher/throttle\"\r\n\r\nexport function useWatchListOperation<T>(target:T[]):[T[], ()=>void]{\r\n    const [list, setList] = useState<T[]>([...target])\r\n    const unsub = getProxyDispatcher(target).addListener(listenAnyWildcard, ()=>{\r\n        setList([...target])\r\n    })\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            unsub()\r\n        }\r\n    }, [])\r\n    return [list, unsub]\r\n}\r\n","import { listenAnyWildcard } from \"../dispatcher\"\r\nimport { getProxyDispatcher, toProxy } from \"./proxyWatch\"\r\nlet count = 0\r\nexport interface IUpdateVersion{\r\n    // 它来自于全局count，所以这个数值最终是全局唯一的\r\n    version:number\r\n    // 这是当前这个对象更新过的次数\r\n    count:number\r\n    // 最终组合的key，用于唯一标识\r\n    key:string\r\n}\r\nconst map = new WeakMap<object, IUpdateVersion>()\r\n/**\r\n * @prefix 如果有用于调试等的需求，可以用prefix作为识别，但是一般来说用不上.\r\n */\r\nexport function getUpdateVersion<T extends object>(data:T, prefix:string = ''):IUpdateVersion{\r\n    let version = map.get(data) || toProxy({\r\n        version:++count,\r\n        count:0,\r\n        key:`${prefix}${count}-0`\r\n    })\r\n    if(!map.has(data)){\r\n        map.set(data, version)\r\n        const dispatcher = getProxyDispatcher(data)\r\n        dispatcher.addListener(listenAnyWildcard, (now, old)=>{\r\n            version.count++\r\n            version.version = ++count\r\n            // 特定前缀+全局唯一数值+该对象更新次数\r\n            version.key = `${prefix}${version.version}-${version.count}`\r\n        })\r\n    }\r\n    return version\r\n}\r\n\r\nexport function getUpdateVersionKey<T extends object>(data:T):string{\r\n    return getUpdateVersion(data).key\r\n}\r\n\r\n\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"m21.67 18.17-5.3-5.3h-.99l-2.54 2.54v.99l5.3 5.3c.39.39 1.02.39 1.41 0l2.12-2.12c.39-.38.39-1.02 0-1.41\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"m17.34 10.19 1.41-1.41 2.12 2.12c1.17-1.17 1.17-3.07 0-4.24l-3.54-3.54-1.41 1.41V1.71l-.7-.71-3.54 3.54.71.71h2.83l-1.41 1.41 1.06 1.06-2.89 2.89-4.13-4.13V5.06L4.83 2.04 2 4.87 5.03 7.9h1.41l4.13 4.13-.85.85H7.6l-5.3 5.3c-.39.39-.39 1.02 0 1.41l2.12 2.12c.39.39 1.02.39 1.41 0l5.3-5.3v-2.12l5.15-5.15z\"\n}, \"1\")], 'Handyman');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z\"\n}), 'NotificationsNone');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M21 8H3V4h18zm0 2H3v4h18zm0 6H3v4h18z\"\n}), 'TableRows');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');","import { actionGroupType, childToProjectDataUtils, getActionGroupElement, GroupCheckList1, GroupCheckList1Context, GroupCheckList2, IActionGroup, IChildToProjectData, IGroup, ITriggerActionGroup, ITriggerGroup, triggerActionGroupType, triggerGroupType } from '@droid/project-interface';\r\nimport {\r\n  ButtonConfirm,\r\n  getParent,\r\n  getUpdateVersionKey,\r\n  Log,\r\n  objectCountUtils,\r\n  useProxyWatch,\r\n  useWatchUpdates\r\n} from '@fanfanlo';\r\nimport { Box, Button, Checkbox, FormControlLabel, FormGroup, Grid2, IconButton } from '@mui/material';\r\nimport { useContext, useEffect } from 'react';\r\n\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\n\r\nfunction getProjectDataByGroup(group:IGroup<any>){\r\n    let projectData:IChildToProjectData = {}\r\n    switch(group.type){\r\n        case actionGroupType:\r\n            getActionGroupElement(group as IActionGroup,'', '', projectData)\r\n            break;\r\n        case triggerGroupType:\r\n          childToProjectDataUtils.triggerGroup.getTriggerGroupElement(group as ITriggerGroup,'', '', projectData)\r\n            break;\r\n        case triggerActionGroupType:\r\n          childToProjectDataUtils.triggerActionGroup.getTriggerActionGroupElement(group as ITriggerActionGroup,'', '', projectData)\r\n            break;\r\n    }\r\n    return projectData\r\n}\r\nfunction Check2({ list, index }: { list: GroupCheckList2; index: number }) {\r\n  const logger = new Log(false, 'Check2_fn');\r\n  logger.isPaused = true\r\n  logger.log('list=', list)\r\n  const [l] = useWatchUpdates(list);\r\n  const groupCheckList1Context = useContext(GroupCheckList1Context);\r\n  function onRemoveClick() {\r\n    groupCheckList1Context.splice(index, 1);\r\n  }\r\n  logger.log('l=', l)\r\n  // const check1 = getParent<GroupCheckList1>(list)\r\n  // console.log('check1=', check1)\r\n  // const group = getParent<IGroup<any>>(check1!)!\r\n  // console.log('group=', group)\r\n  // const projectData = getProjectDataByGroup(group)\r\n  // console.log('projectData=', projectData)\r\n  // const globalId = `project`\r\n  return (\r\n    <>\r\n      <Grid2 container>\r\n        <Grid2 container size={'grow'}>\r\n          {l.map((check, index) => (\r\n            <Grid2 key={objectCountUtils.getNewCountId().toString()}>\r\n              <FormGroup>\r\n                <FormControlLabel\r\n                  label={index.toString()}\r\n                  control={\r\n                    <Checkbox\r\n                    data-id=\"group-check-checkbox\"\r\n                      data-checked={check}\r\n                      data-value={check}\r\n                      checked={check}\r\n                      onChange={e => {\r\n                        list[index] = e.target.checked;\r\n                      }}\r\n                    />\r\n                  }\r\n                />\r\n              </FormGroup>\r\n            </Grid2>\r\n          ))}\r\n        </Grid2>\r\n        <Grid2>\r\n          <ButtonConfirm title=\"提醒\" onConfirm={onRemoveClick} content=\"您要删除此条校验吗？\">\r\n            <IconButton data-id=\"group-check-remove\" >\r\n              <DeleteOutlineIcon />\r\n            </IconButton>\r\n          </ButtonConfirm>\r\n        </Grid2>\r\n      </Grid2>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Check1({ list }: { list: GroupCheckList1 }) {\r\n  const logger = new Log(false, 'Check1_fn');\r\n  logger.isPaused = true\r\n  logger.log('Check1 list=', list);\r\n\r\n  return (\r\n    <GroupCheckList1Context.Provider value={list}>\r\n      {list.map((checks2, index) => (\r\n        <Check2 key={getUpdateVersionKey(checks2)} list={list[index]} index={index} />\r\n      ))}\r\n    </GroupCheckList1Context.Provider>\r\n  );\r\n}\r\nexport function GroupCheck({ group }: { group: IGroup<any> }) {\r\n  const logger = new Log(false, 'GroupCheck_fn');\r\n  logger.isPaused = true;\r\n  const [isSequential] = useProxyWatch(group, 'isSequential', group.isSequential);\r\n  const [l] = useProxyWatch(group, 'list', group.list);\r\n  const [list] = useWatchUpdates(l);\r\n  const [listSize] = useProxyWatch(list, 'length', list.length);\r\n  const [c] = useProxyWatch(group, 'checks', group.checks);\r\n  const [checks1] = useWatchUpdates(c);\r\n  function updateChecks2(){\r\n    logger.log('updateChecks2_fn', 'listSize=', listSize, group.checks);\r\n    group.checks.forEach(checks2 => {\r\n      logger.log('updateChecks2_fn', 'checks2=', checks2);\r\n      for (let i = checks2.length; i < listSize; i++) {\r\n        checks2.push(true);\r\n      }\r\n      checks2.length = listSize;\r\n    });\r\n  }\r\n  useEffect(() => {\r\n    updateChecks2();\r\n  }, [listSize]);\r\n  // logger.log('group=', group);\r\n  // logger.log('checks1=', checks1);\r\n  // logger.log('isSequential=', isSequential);\r\n  logger.log('list.length=', list.length);\r\n  if (list.length <= 1 || isSequential) return <></>;\r\n  return (\r\n    <Box>\r\n      <Grid2 container>\r\n        <Grid2>\r\n          <Button\r\n            data-id=\"group-add-check-list.875aec4f-5049-426a-a395-0ac0c6666a35\"\r\n            onClick={() => {\r\n              group.checks.push(new Array(listSize).fill(true));\r\n            }}>\r\n            添加校验组\r\n          </Button>\r\n        </Grid2>\r\n      </Grid2>\r\n      <Check1 list={group.checks} />\r\n    </Box>\r\n  );\r\n}\r\n","import { IActionOrTriggerListPageParams } from \"@app/static\";\r\nimport { Button } from \"@mui/material\";\r\nimport { useRouter } from \"next/router\";\r\nimport { PropsWithChildren } from \"react\";\r\nexport interface IActionListOrTriggerListPageLinkProps extends PropsWithChildren{\r\n  query:IActionOrTriggerListPageParams\r\n  attrs:object\r\n  path:'/action-list'|'/trigger-list'\r\n  btnId:string\r\n}\r\nexport function ActionListOrTriggerListPageLink({query, attrs, path, btnId, children}:IActionListOrTriggerListPageLinkProps){\r\n  const router = useRouter();\r\n  query.backPath = router.pathname\r\n  function handleClick(){\r\n    const list = Object.keys(query).map(key=> [key, query[key]!!.toString()])\r\n    const q = new URLSearchParams(list);\r\n    const href = `${path}?${q.toString()}`\r\n    router.push(href)\r\n  }\r\n  \r\n  return (\r\n    <Button onClick={handleClick} \r\n    {...attrs}\r\n    // id=\"link-router-to-action-list\"\r\n    // data-id=\"link-router-to-action-list\"\r\n    id={btnId}\r\n    data-id={btnId}\r\n    >{children}</Button>\r\n  )\r\n}","import { ActionListContext, IActionData } from \"@droid/project-interface\"\r\nimport { ActionUtilsMap } from \"@droid/project-interface\"\r\nimport { Box, Button } from \"node_modules/@mui/material\"\r\nimport {ButtonConfirm, getParent, toProxy} from \"@fanfanlo\"\r\nimport { useContext } from \"react\"\r\nexport function Action({actionData}:{actionData:IActionData<any,any>}){\r\n    const list = useContext(ActionListContext)\r\n    const utils = ActionUtilsMap[actionData.type]\r\n    function onDeleteComfirmed(){\r\n        const index = list.indexOf(actionData)\r\n        if(index === -1)return\r\n        list.splice(index, 1)\r\n    }\r\n    return <Box sx={{\r\n        position: 'relative',\r\n        padding: '2px',\r\n        marginTop:\"2px\",\r\n        marginBottom:\"2px\",\r\n        '&::after': {\r\n            content: '\"\"',\r\n            position: 'absolute',\r\n            right: 0,\r\n            top: '5px',\r\n            bottom: '5px',\r\n            borderRight: '1px solid red',\r\n        },\r\n        '&::before': {\r\n            content: '\"\"',\r\n            position: 'absolute',\r\n            left: 0,\r\n            top: '5px',\r\n            bottom: '5px',\r\n            borderLeft: '1px solid red',\r\n        }\r\n    }}>\r\n        {utils.UI(actionData)}\r\n        <Box sx={{textAlign:\"center\"}}>\r\n            \r\n        <ButtonConfirm title=\"删除动作\" content=\"确定删除本动作吗？\" onConfirm={onDeleteComfirmed}>\r\n                <Button \r\n                id=\"del-action-btn\"\r\n                data-id=\"del-action-btn\"\r\n                >删除</Button>\r\n            </ButtonConfirm>\r\n        </Box>\r\n    </Box>\r\n}\r\n","import { getUpdateVersionKey, useWatchUpdates } from \"@fanfanlo\"\r\nimport { useContext } from \"react\"\r\n// import { ActionGroupContext } from \"../../../../contexts\"\r\nimport { Action } from \"./action/Action\"\r\nimport { ActionGroupContext } from \"@droid/project-interface\"\r\nimport _ from \"lodash\"\r\nexport function ActionList(){\r\n    const actionGroup = useContext(ActionGroupContext)\r\n    const [list] = useWatchUpdates(actionGroup.list)\r\n    if(!list || !_.isArray(list)){\r\n        console.log('lllllllllllllist is null', actionGroup)\r\n    }\r\n    return <div>\r\n        {actionGroup.list.map(action=>{\r\n            return <Action key={getUpdateVersionKey(action)} actionData={action} />\r\n        })}\r\n    </div>\r\n}\r\n","import { ActionOrTriggerListTypeEnum, IActionOrTriggerListPageParams } from \"@app/static\";\r\nimport { ActionGroupContext, ActionListContext, getActionGroupElement, IActionGroup, TriggerActionContext, TriggerActionGroupContext } from \"@droid/project-interface\";\r\nimport { toProxy, useProxyWatch } from \"@fanfanlo\";\r\nimport { Box, FormControlLabel, FormGroup, Grid2, Switch } from \"@mui/material\";\r\nimport { useContext } from \"react\";\r\nimport { GroupCheck } from \"../../../components/group/GroupCheck\";\r\nimport { ActionListOrTriggerListPageLink } from \"../../../components/list-page-link/ActionListOrTriggerListPageLink\";\r\nimport { ProjectEditInfoContext } from \"../../../contexts\";\r\nimport { ActionList } from \"./action-list/ActionList\";\r\nimport { useTranslation } from \"@fanfanlo\";\r\nexport function ActionGroup({ actionGroup }: { actionGroup: IActionGroup }) {\r\n    const {t} = useTranslation(\"droid-project/project/ui/project/edit-project/trigger-action-group/trigger-action/action-group/content\")\r\n    const editInfo = useContext(ProjectEditInfoContext)\r\n    const triggerActionGroup = useContext(TriggerActionGroupContext)\r\n    const triggerAction = useContext(TriggerActionContext)\r\n\r\n    const query: IActionOrTriggerListPageParams = {\r\n        projectId: editInfo.project.id,\r\n        triggerActionGroupId: triggerActionGroup.id,\r\n        triggerActionId: triggerAction.id,\r\n        actionGroupId: actionGroup.id,\r\n        type: ActionOrTriggerListTypeEnum.addAction,\r\n        actionType: '',\r\n    }\r\n    const [isSequential] = useProxyWatch(actionGroup, 'isSequential', actionGroup.isSequential)\r\n    const [listSize] = useProxyWatch(actionGroup.list, 'length', actionGroup.list.length)\r\n    function setIsSequential(value: boolean) {\r\n        toProxy(actionGroup).isSequential = value\r\n    }\r\n    return (\r\n        <ActionGroupContext.Provider value={actionGroup}>\r\n            <ActionListContext.Provider value={actionGroup.list}>\r\n\r\n                <Box sx={{ border: '2px solid #ccc', padding: '4px' }}>\r\n                    <Grid2 container sx={{ alignItems: 'center' }}>\r\n                        <Grid2 size={\"grow\"}>\r\n                            <Box>{t(\"content.title\")}</Box>\r\n                        </Grid2>\r\n                        <Grid2>\r\n                            {listSize > 1 && <FormGroup>\r\n                                <FormControlLabel control={<Switch checked={isSequential} \r\n                                data-id=\"action-group-checkbox-is-sequential.122f\"\r\n                                aria-checked={isSequential}\r\n                                data-checked={isSequential}\r\n                                onChange={(e) => { setIsSequential(e.target.checked) }} />} label={t(\"content.sequential\")} />\r\n                            </FormGroup>}\r\n                        </Grid2>\r\n                        <Grid2>\r\n                            <Box>\r\n                                <ActionListOrTriggerListPageLink query={query} attrs={getActionGroupElement(actionGroup)} path=\"/action-list\" btnId=\"link-router-to-action-list\" children={t(\"content.list\")} />\r\n                            </Box>\r\n                        </Grid2>\r\n                    </Grid2>\r\n                    <GroupCheck group={actionGroup} />\r\n                    <ActionList />\r\n                </Box>\r\n            </ActionListContext.Provider>\r\n        </ActionGroupContext.Provider>\r\n    )\r\n}\r\n\r\n","import { ITriggerJavaData, ITriggerShellData, TriggerContext } from \"@droid/project-interface\";\r\nimport { ITriggerData } from \"@droid/project-interface\";\r\nimport { Box, Button } from \"@mui/material\";\r\nimport { getTriggerUtils } from \"@droid/project-interface\";\r\nimport { getParent, toProxy, ButtonConfirm } from \"@fanfanlo\";\r\nimport { useContext } from \"react\";\r\nimport { TriggerListContext } from \"@droid/project-interface\";\r\nexport function Trigger({triggerData}:{triggerData:ITriggerData<ITriggerShellData, ITriggerJavaData>}){\r\n    const list = useContext(TriggerListContext)\r\n    const utils = getTriggerUtils(triggerData.type)\r\n    const onDeleteComfirmed = () => {\r\n        const index = list.indexOf(toProxy(triggerData))\r\n        if(index === -1) return\r\n        toProxy(list).splice(index, 1)\r\n    }\r\n    return (\r\n        <TriggerContext.Provider value={triggerData}>\r\n            <Box>\r\n                {utils.UI(triggerData)}\r\n                <Box sx={{textAlign:\"center\"}}>\r\n                    <ButtonConfirm title=\"删除触发\" content=\"确定删除本触发吗？\" onConfirm={onDeleteComfirmed}>\r\n                        <Button \r\n                        id=\"del-trigger-btn\"\r\n                        data-id=\"del-trigger-btn\"\r\n                        >删除</Button>\r\n                    </ButtonConfirm>\r\n                </Box>\r\n            </Box>\r\n        </TriggerContext.Provider>\r\n    )\r\n}\r\n\r\n    \r\n","import { ITriggerData, ITriggerJavaData, ITriggerShellData, TriggerListContext, TriggerGroupContext } from \"@droid/project-interface\"\r\nimport { Box } from \"@mui/material\"\r\nimport { getUpdateVersion, useWatchUpdates } from \"@fanfanlo\"\r\nimport { Trigger } from \"./trigger/Trigger\"\r\nimport { useContext, useEffect } from \"react\"\r\nexport function TriggerList(){\r\n    const triggerGroup = useContext(TriggerGroupContext)\r\n    const [l] = useWatchUpdates<ITriggerData<ITriggerShellData, ITriggerJavaData>[]>(triggerGroup.list)\r\n    // useEffect(()=>{\r\n    //     console.log('llllllllllllllllllllllll', l)\r\n    //     console.log('triggerGroupppppppppp', triggerGroup)\r\n    // }, [l])\r\n    return (\r\n        <TriggerListContext.Provider value={triggerGroup.list}>\r\n            <Box>\r\n                {triggerGroup.list.map((trigger) => (\r\n                    <Trigger key={getUpdateVersion(trigger).version} triggerData={trigger} />\r\n                ))}\r\n            </Box>\r\n        </TriggerListContext.Provider>\r\n    )\r\n}\r\n\r\n","import { ActionOrTriggerListTypeEnum, IActionOrTriggerListPageParams } from \"@app/static\";\r\nimport { ITriggerGroup, TriggerActionContext, TriggerActionGroupContext, TriggerGroupContext, childToProjectDataUtils } from \"@droid/project-interface\";\r\nimport { useTranslation } from \"@fanfanlo\";\r\nimport { Box, FormControlLabel, FormGroup, Grid2, Switch } from \"@mui/material\";\r\nimport { useContext } from \"react\";\r\nimport { ActionListOrTriggerListPageLink } from \"../../../components/list-page-link/ActionListOrTriggerListPageLink\";\r\nimport { ProjectEditInfoContext } from \"../../../contexts\";\r\nimport { TriggerList } from \"./trigger-list/TriggerList\";\r\nimport { toProxy, useProxyWatch } from \"@fanfanlo\";\r\nimport { GroupCheck } from \"../../../components/group/GroupCheck\";\r\nexport function TriggerGroup({ triggerGroup }: { triggerGroup: ITriggerGroup }) {\r\n    const {t} = useTranslation(\"droid-project/project/ui/project/edit-project/trigger-action-group/trigger-action/trigger-group/content\")\r\n    \r\n    const editInfo = useContext(ProjectEditInfoContext)\r\n    const triggerActionGroup = useContext(TriggerActionGroupContext)\r\n    const triggerAction = useContext(TriggerActionContext)\r\n    \r\n    const query: IActionOrTriggerListPageParams = {\r\n        projectId: editInfo.project.id,\r\n        triggerActionGroupId: triggerActionGroup.id,\r\n        triggerActionId: triggerAction.id,\r\n        triggerGroupId: triggerGroup.id,\r\n        type: ActionOrTriggerListTypeEnum.addAction,\r\n        actionType: '',\r\n    }\r\n\r\n    const [isSequential] = useProxyWatch(triggerGroup, 'isSequential', triggerGroup.isSequential)\r\n    const [listSize] = useProxyWatch(triggerGroup.list, 'length', triggerGroup.list.length)\r\n    function setIsSequential(value: boolean) {\r\n        toProxy(triggerGroup).isSequential = value\r\n    }\r\n    return (\r\n        <TriggerGroupContext.Provider value={triggerGroup}>\r\n            <Box sx={{ border: '2px solid #a4a737', padding: '4px', marginBottom: \"2px\", marginTop: \"2px\" }}>\r\n                <Grid2 container sx={{ alignItems: 'center' }}>\r\n                    <Grid2 size={\"grow\"}>\r\n                        <Box>{t(\"content.title\")}</Box>\r\n                    </Grid2>\r\n                        <Grid2>\r\n                            {listSize > 1 && <FormGroup>\r\n                                <FormControlLabel control={<Switch checked={isSequential} \r\n                                data-id=\"trigger-group-checkbox-is-sequential.122f\"\r\n                                aria-checked={isSequential}\r\n                                data-checked={isSequential}\r\n                                onChange={(e) => { setIsSequential(e.target.checked) }} />} label={t(\"content.sequential\")} />\r\n                            </FormGroup>}\r\n                        </Grid2>\r\n                    <Grid2>\r\n                        <Box>\r\n                            <ActionListOrTriggerListPageLink query={query} attrs={childToProjectDataUtils.triggerGroup.getTriggerGroupElement(triggerGroup)} path=\"/trigger-list\" btnId=\"link-router-to-trigger-list\" children={t(\"content.list\")} />\r\n\r\n                        </Box>\r\n                    </Grid2>\r\n                </Grid2>\r\n                <GroupCheck group={triggerGroup} />\r\n                <TriggerList/>\r\n            </Box>\r\n        </TriggerGroupContext.Provider>\r\n    )\r\n}\r\n\r\n\r\n","import { ITriggerAction, TriggerActionContext } from \"@droid/project-interface\";\r\nimport { EditableText, getParentWatchProxy } from \"@fanfanlo\";\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\nimport HandymanIcon from '@mui/icons-material/Handyman';\r\nimport NotificationsNoneIcon from '@mui/icons-material/NotificationsNone';\r\nimport { Box, Grid2, IconButton } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\nimport { ActionGroup } from \"./action-group/ActionGroup\";\r\nimport { TriggerGroup } from \"./trigger-group/TriggerGroup\";\r\n\r\nimport { ButtonConfirm } from \"@fanfanlo\";\r\nexport function TriggerAction({ triggerAction }: { triggerAction: ITriggerAction }) {\r\n    const [name, setName] = useState(triggerAction.name || '未命名')\r\n    function handleNameChange(name: string) {\r\n        triggerAction.name = name\r\n        setName(name)\r\n    }\r\n    function handleDelete() {\r\n        const parent = getParentWatchProxy<ITriggerAction[]>(triggerAction)\r\n        if(!parent) return\r\n        parent.splice(parent.indexOf(triggerAction), 1)\r\n    }\r\n    return (\r\n        <TriggerActionContext.Provider value={triggerAction}>\r\n            <Box sx={{ border: '2px solid #02450e', padding: '4px' }}\r\n            data-id-trigger-action={triggerAction.id}\r\n            >\r\n                <Grid2 sx={{ alignItems: 'center' }} container>\r\n                    <Grid2>\r\n                        <NotificationsNoneIcon />\r\n                        <HandymanIcon />\r\n                    </Grid2>\r\n                    <Grid2 size={\"grow\"}>\r\n                        <EditableText setText={handleNameChange} >\r\n                            <span\r\n                            data-id=\"rename-trigger-action-btn.a4c6\"\r\n                            >{name}</span>\r\n                        </EditableText>\r\n                    </Grid2>\r\n                    <Grid2>\r\n                        <ButtonConfirm title=\"提示\" content=\"确认要删除这条触发器和动作吗\" onConfirm={handleDelete}>\r\n                            <IconButton\r\n                            data-id=\"del-trigger-action-btn\"\r\n                            >\r\n                                <DeleteOutlineIcon />\r\n                            </IconButton>\r\n                        </ButtonConfirm>\r\n                    </Grid2>\r\n                </Grid2>\r\n                <TriggerGroup triggerGroup={triggerAction.triggerGroup} />\r\n                <ActionGroup actionGroup={triggerAction.actionGroup} />\r\n            </Box>\r\n        </TriggerActionContext.Provider>\r\n    )\r\n}\r\n\r\n","import { childToProjectDataUtils, createDefultTriggerAction, TriggerActionGroupContext } from \"@droid/project-interface\"\r\nimport { EditableText, getUpdateVersion, toParent, useWatchListOperation, } from \"@fanfanlo\"\r\nimport AddIcon from '@mui/icons-material/Add'\r\nimport HandymanIcon from '@mui/icons-material/Handyman'\r\nimport NotificationsNoneIcon from '@mui/icons-material/NotificationsNone'\r\nimport TableRowsIcon from '@mui/icons-material/TableRows'\r\nimport { Box, Grid2, IconButton } from \"@mui/material\"\r\nimport { useContext, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { ProjectEditInfoContext } from \"../contexts\"\r\nimport { TriggerAction } from \"./trigger-action/TriggerAction\"\r\nexport function TriggerActionGroup() {\r\n    const { t } = useTranslation('droid-project/project/ui/project/edit-project/trigger-action-group/content')\r\n    const editInfo = useContext(ProjectEditInfoContext)\r\n    const [groupName, setGroupName] = useState(editInfo.project.triggerActionGroup.name || t('TriggerActionGroup.unamed'))\r\n\r\n    const [list] = useWatchListOperation(editInfo.project.triggerActionGroup.list)\r\n    function handleGroupNameChange(name: string) {\r\n        editInfo.project.triggerActionGroup.name = name\r\n        setGroupName(name || t('TriggerActionGroup.unamed'))\r\n    }\r\n    const triggerActionGroup = editInfo.project.triggerActionGroup\r\n    function addTriggerAction() {\r\n        const newTriggerAction = createDefultTriggerAction()\r\n        toParent(triggerActionGroup).list.push(newTriggerAction)\r\n    }\r\n    return (\r\n        <TriggerActionGroupContext.Provider value={triggerActionGroup}>\r\n            <Box sx={{ border: '2px solid rgb(217, 217, 217)', padding: '4px' }}\r\n            {...childToProjectDataUtils.triggerActionGroup.getTriggerActionGroupElementByProp(triggerActionGroup.list)}\r\n            data-id-trigger-action-group={triggerActionGroup.id}>\r\n                <Grid2 container sx={{ alignItems: 'center' }}>\r\n                    <Grid2 container sx={{ alignItems: 'center' }}>\r\n                        <NotificationsNoneIcon />\r\n                        <HandymanIcon />\r\n                        <TableRowsIcon />\r\n                    </Grid2>\r\n                    <Grid2 size={\"grow\"} sx={{ alignItems: 'center', width: \"100%\" }}>\r\n\r\n                        <Box sx={{ width: \"100%\" }}>\r\n                            <EditableText setText={handleGroupNameChange} >\r\n                                <span\r\n                                data-id=\"rename-groupname-btn-a322\" style={{ backgroundColor: 'red' }}>{groupName}</span>\r\n                            </EditableText>\r\n                        </Box>\r\n                    </Grid2>\r\n                    <Grid2>\r\n                        <Box>\r\n                            <IconButton\r\n                            data-id=\"add-trigger-action-btn.22fab779-75e2-4e34-82f4-64667e7fc017\"\r\n                             onClick={addTriggerAction}>\r\n                                <AddIcon />\r\n                            </IconButton>\r\n                        </Box>\r\n                    </Grid2>\r\n                </Grid2>\r\n                <Box>\r\n                    {list.map((ta, index) => {\r\n                        const triggerAction = triggerActionGroup.list[index]\r\n                        return <TriggerAction key={getUpdateVersion(triggerAction).version}\r\n                        triggerAction={triggerAction} />\r\n                    })}\r\n                </Box>\r\n            </Box>\r\n        </TriggerActionGroupContext.Provider>\r\n    )\r\n}\r\n\r\n\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z\"\n}), 'Save');","import { IJsBridgeEventMap, jsBridgeDispatcher } from \"@droid/android\"\r\nimport { mergeProjectDataToDefultData, ProjectContext, projectStore } from \"@droid/project-interface\"\r\nimport { Dispatcher, EditableText, getParentProxyTarget, IDispatchEvent, Log, objectCountUtils, toParent, toProxy, useProxyWatch, watchUpdates } from \"@fanfanlo\"\r\nimport CloseIcon from '@mui/icons-material/Close'\r\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, Paper, styled } from \"@mui/material\"\r\nimport { useRouter } from \"next/router\"\r\n\r\nimport { useContext, useEffect } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { takeProjectSnapshoot } from \"../../../../history/projectsHistoryMap\"\r\nimport { editProjectInfoUtils } from \"../../../manager/edit-project-info-utils\"\r\nimport { ProjectEditInfoContext } from \"./contexts\"\r\nimport { TriggerActionGroup } from \"./trigger-action-group/TriggerActionGroup\"\r\n\r\nimport SaveIcon from '@mui/icons-material/Save'\r\nimport _ from \"lodash\"\r\n// import { IAppBarBackAskEvent } from \"@app/static\"\r\n\r\ninterface IAppBarBackAskEvent{\r\n    defaultPrevented:boolean\r\n}\r\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\r\n    '& .MuiDialogContent-root': {\r\n        padding: theme.spacing(2),\r\n    },\r\n    '& .MuiDialogActions-root': {\r\n        padding: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nfunction ProjectContent() {\r\n    const project = useContext(ProjectContext)\r\n    return <Box\r\n    data-id-project={project.id}>\r\n        <Paper>\r\n            <TriggerActionGroup />\r\n        </Paper>\r\n    </Box>\r\n}\r\n\r\nfunction StayAlert() {\r\n    const editInfo = useContext(ProjectEditInfoContext)\r\n    const logger = Log.createCountedLogger(false, 'project-editor-effect')\r\n    const [askStay] = useProxyWatch(editInfo, 'askStay', editInfo.askStay)\r\n    const router = useRouter()\r\n\r\n    function toLeave() {\r\n        editInfo.askStay = false\r\n        editInfo.giveup = true\r\n        router.back()\r\n        editInfo.giveup = false\r\n        editInfo.updated = false\r\n    }\r\n    function handleClose() {    \r\n        editInfo.askStay = false\r\n    }\r\n    function handleLeaveWithoutSave() {\r\n        toLeave()\r\n        projectStore.deleteDraft(editInfo.project.id)\r\n    }\r\n    function handleSaveAndLeave() {\r\n        editInfo.save()\r\n        toLeave()\r\n        projectStore.deleteDraft(editInfo.project.id)\r\n    }\r\n    function handleStayAndEdit() {\r\n        editInfo.askStay = false\r\n        editInfo.giveup = false\r\n        logger.log('handleStayAndEdit fn called ', 'objectCount=', objectCountUtils.getObjectCount(editInfo), 'editInfo=', editInfo)\r\n    }\r\n\r\n    function handleSaveToDraftAndLeave() {\r\n        // projectStore.save\r\n        projectStore.addDraft(editInfo.project)\r\n        toLeave()\r\n    }\r\n\r\n    return <Box>\r\n        <BootstrapDialog\r\n            onClose={handleClose}\r\n            aria-labelledby=\"customized-dialog-title\"\r\n            open={askStay}\r\n        >\r\n            <DialogTitle sx={{ m: 0, p: 2 }} id=\"customized-dialog-title\">\r\n                提示:您有更改没有保存，确定要离开吗？\r\n            </DialogTitle>\r\n            <IconButton\r\n                aria-label=\"close\"\r\n                onClick={handleClose}\r\n                sx={(theme) => ({\r\n                    position: 'absolute',\r\n                    right: 8,\r\n                    top: 8,\r\n                    color: theme.palette.grey[500],\r\n                })}\r\n            >\r\n                <CloseIcon />\r\n            </IconButton>\r\n            <DialogContent dividers>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleLeaveWithoutSave}>放弃保存并离开</Button>\r\n                <Button onClick={handleSaveToDraftAndLeave}>保存变更到草稿并离开</Button>\r\n                <Button onClick={handleSaveAndLeave}>保存并离开</Button>\r\n                <Button onClick={handleStayAndEdit}>留下编辑</Button>\r\n            </DialogActions>\r\n        </BootstrapDialog>\r\n    </Box>\r\n}\r\nfunction ProjectTools(){\r\n    const {t} = useTranslation('droid-project/project/ui/project/edit-project/content')\r\n    function onRunClick(){\r\n\r\n    }\r\n    return(\r\n        <>\r\n            <Box>\r\n                <Button onClick={onRunClick}>{t(\"content.projectTools.run\")}</Button>\r\n            </Box>\r\n        </>\r\n    )\r\n}\r\nexport function EditProjectBuilder() {\r\n    const dispatcher = new Dispatcher()\r\n    const router = useRouter()\r\n    const { id } = router.query\r\n    let project = projectStore.findDraftOrSavedProject((id || '-1') as string) || mergeProjectDataToDefultData({ id: (id || '-1') as string })\r\n    const createProject = project\r\n    const draftPorjct = project = projectStore.addDraft(createProject)\r\n    const proxyProject = project = toProxy(draftPorjct)\r\n    const parentProject = project = toParent(proxyProject)\r\n    const editInfo = editProjectInfoUtils.edit(parentProject)\r\n    type NeedStay = boolean\r\n    function checkUpdated():NeedStay{\r\n        const logger = new Log(false, 'checkUpdated_fn')\r\n        logger.isPaused = true\r\n        const c = projectStore.findSavedProject(project.id)\r\n        logger.log('checkUpdated fn called',  'c=', c)\r\n        editInfo.updated = !c || !_.isEqual(c, project)\r\n        logger.log('editInfo.updated=', editInfo.updated)\r\n        if(editInfo.updated && !editInfo.giveup){\r\n            editInfo.askStay = true\r\n            logger.log('checkUpdated fn called',  'editInfo.askStay=', editInfo.askStay)\r\n            return true\r\n        }\r\n        logger.log('checkUpdated fn called2',  'editInfo.askStay=', editInfo.askStay)\r\n        return false\r\n    }\r\n    function Content() {\r\n        useEffect(() => {\r\n            takeProjectSnapshoot(project)\r\n            if (!project) return\r\n            const unsub = watchUpdates(getParentProxyTarget(project), () => {\r\n                takeProjectSnapshoot(project)\r\n                editInfo.updated = true\r\n                // console.log('project updated2', project)\r\n            })\r\n            return () => {\r\n                unsub()\r\n            }\r\n        }, [])\r\n        useEffect(() => {\r\n            const unsub = jsBridgeDispatcher.addListener<IJsBridgeEventMap>(\"checkBrowserCanBack\", (event: IDispatchEvent) => {\r\n                const canBack = event.result = checkUpdated()\r\n                console.log('ooooooooooooooooooooooooo checkBrowserCanBack_fn', event, 'canback=', canBack)\r\n                if(canBack)projectStore.deleteDraft(project.id)\r\n            })\r\n            return () => {\r\n                unsub()\r\n            }\r\n        }, [])\r\n\r\n        useEffect(()=>{\r\n            return dispatcher.addListener('back', (e:IAppBarBackAskEvent)=>{\r\n                const canBack = e.defaultPrevented = checkUpdated()\r\n                if(canBack)projectStore.deleteDraft(project.id)\r\n            })\r\n        },[])\r\n        const p = toProxy(editInfo.project)\r\n        return (\r\n            <ProjectEditInfoContext.Provider value={editInfo}>\r\n                <ProjectContext.Provider value={p}>\r\n                    <Box sx={{width:\"100%\"}}>\r\n                        <ProjectTools />\r\n                        <ProjectContent />\r\n                        <StayAlert />\r\n                    </Box>\r\n                </ProjectContext.Provider>\r\n            </ProjectEditInfoContext.Provider>\r\n        )\r\n    }\r\n\r\n    function Title() {\r\n        const { t } = useTranslation('droid-project/project/ui/project/edit-project/content')\r\n        const clickToSetProjectName = t('content.clickToSetProjectName')\r\n        const [name] = useProxyWatch(project, 'name', clickToSetProjectName)\r\n        function setName(name: string) {\r\n            project.name = name\r\n        }\r\n        return (<div style={{ display: 'flex', flexDirection: 'row', gap: 16, width: \"100%\", alignItems: \"center\" }}>\r\n            <span style={{ flexGrow: 1, paddingLeft: \"2rem\" }}>\r\n                <EditableText setText={setName} >\r\n                    <h2><span\r\n                    id=\"project-name-editor\"\r\n                    data-id=\"project-name-editor\" \r\n                    >\r\n                        {name || clickToSetProjectName}\r\n                    </span></h2>\r\n                </EditableText>\r\n            </span>\r\n            <IconButton onClick={() => { editInfo.save(); }}>\r\n                <SaveIcon />\r\n            </IconButton>\r\n        </div>\r\n        )\r\n    }\r\n    return { Content, Title, dispatcher }\r\n}","import { EditProjectBuilder } from \"@droid/project\"\r\nimport { AppbarContainer, AppShell, IAppbarProps } from \"@app/ui\"\r\nimport { initActionListGroups } from \"@src/components/page/action-list/action.data\"\r\nimport { initTriggerListGroups } from \"@src/components/page/trigger-list/trigger.data\"\r\n\r\n\r\n\r\nexport default function ProjectEditor(){\r\n    const {Content, Title, dispatcher} = EditProjectBuilder()\r\n    initActionListGroups()\r\n    initTriggerListGroups(  )\r\n    const appBarProps:IAppbarProps = {\r\n        title:<Title/>,\r\n        back:true,\r\n        backDispatcher:dispatcher\r\n    }\r\n    return (\r\n        <AppShell>\r\n            <AppbarContainer appbarProps={appBarProps}\r\n            titleConf={{ns:\"homepage/pages/project-editor/content\", key:\"editor.title\"}}>\r\n                <Content />\r\n            </AppbarContainer>\r\n        </AppShell>\r\n    )\r\n\r\n\r\n}\r\n\r\n\r\n\r\n","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getIconButtonUtilityClass(slot) {\n  return generateUtilityClass('MuiIconButton', slot);\n}\nconst iconButtonClasses = generateUtilityClasses('MuiIconButton', ['root', 'disabled', 'colorInherit', 'colorPrimary', 'colorSecondary', 'colorError', 'colorInfo', 'colorSuccess', 'colorWarning', 'edgeStart', 'edgeEnd', 'sizeSmall', 'sizeMedium', 'sizeLarge', 'loading', 'loadingIndicator', 'loadingWrapper']);\nexport default iconButtonClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport chainPropTypes from '@mui/utils/chainPropTypes';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { unstable_useId as useId } from '@mui/material/utils';\nimport { alpha } from '@mui/system/colorManipulator';\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport createSimplePaletteValueFilter from \"../utils/createSimplePaletteValueFilter.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport ButtonBase from \"../ButtonBase/index.js\";\nimport CircularProgress from \"../CircularProgress/index.js\";\nimport capitalize from \"../utils/capitalize.js\";\nimport iconButtonClasses, { getIconButtonUtilityClass } from \"./iconButtonClasses.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disabled,\n    color,\n    edge,\n    size,\n    loading\n  } = ownerState;\n  const slots = {\n    root: ['root', loading && 'loading', disabled && 'disabled', color !== 'default' && `color${capitalize(color)}`, edge && `edge${capitalize(edge)}`, `size${capitalize(size)}`],\n    loadingIndicator: ['loadingIndicator'],\n    loadingWrapper: ['loadingWrapper']\n  };\n  return composeClasses(slots, getIconButtonUtilityClass, classes);\n};\nconst IconButtonRoot = styled(ButtonBase, {\n  name: 'MuiIconButton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.loading && styles.loading, ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`], ownerState.edge && styles[`edge${capitalize(ownerState.edge)}`], styles[`size${capitalize(ownerState.size)}`]];\n  }\n})(memoTheme(({\n  theme\n}) => ({\n  textAlign: 'center',\n  flex: '0 0 auto',\n  fontSize: theme.typography.pxToRem(24),\n  padding: 8,\n  borderRadius: '50%',\n  color: (theme.vars || theme).palette.action.active,\n  transition: theme.transitions.create('background-color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  variants: [{\n    props: props => !props.disableRipple,\n    style: {\n      '--IconButton-hoverBg': theme.vars ? `rgba(${theme.vars.palette.action.activeChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette.action.active, theme.palette.action.hoverOpacity),\n      '&:hover': {\n        backgroundColor: 'var(--IconButton-hoverBg)',\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  }, {\n    props: {\n      edge: 'start'\n    },\n    style: {\n      marginLeft: -12\n    }\n  }, {\n    props: {\n      edge: 'start',\n      size: 'small'\n    },\n    style: {\n      marginLeft: -3\n    }\n  }, {\n    props: {\n      edge: 'end'\n    },\n    style: {\n      marginRight: -12\n    }\n  }, {\n    props: {\n      edge: 'end',\n      size: 'small'\n    },\n    style: {\n      marginRight: -3\n    }\n  }]\n})), memoTheme(({\n  theme\n}) => ({\n  variants: [{\n    props: {\n      color: 'inherit'\n    },\n    style: {\n      color: 'inherit'\n    }\n  }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()) // check all the used fields in the style below\n  .map(([color]) => ({\n    props: {\n      color\n    },\n    style: {\n      color: (theme.vars || theme).palette[color].main\n    }\n  })), ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()) // check all the used fields in the style below\n  .map(([color]) => ({\n    props: {\n      color\n    },\n    style: {\n      '--IconButton-hoverBg': theme.vars ? `rgba(${(theme.vars || theme).palette[color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha((theme.vars || theme).palette[color].main, theme.palette.action.hoverOpacity)\n    }\n  })), {\n    props: {\n      size: 'small'\n    },\n    style: {\n      padding: 5,\n      fontSize: theme.typography.pxToRem(18)\n    }\n  }, {\n    props: {\n      size: 'large'\n    },\n    style: {\n      padding: 12,\n      fontSize: theme.typography.pxToRem(28)\n    }\n  }],\n  [`&.${iconButtonClasses.disabled}`]: {\n    backgroundColor: 'transparent',\n    color: (theme.vars || theme).palette.action.disabled\n  },\n  [`&.${iconButtonClasses.loading}`]: {\n    color: 'transparent'\n  }\n})));\nconst IconButtonLoadingIndicator = styled('span', {\n  name: 'MuiIconButton',\n  slot: 'LoadingIndicator',\n  overridesResolver: (props, styles) => styles.loadingIndicator\n})(({\n  theme\n}) => ({\n  display: 'none',\n  position: 'absolute',\n  visibility: 'visible',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  color: (theme.vars || theme).palette.action.disabled,\n  variants: [{\n    props: {\n      loading: true\n    },\n    style: {\n      display: 'flex'\n    }\n  }]\n}));\n\n/**\n * Refer to the [Icons](/material-ui/icons/) section of the documentation\n * regarding the available icon options.\n */\nconst IconButton = /*#__PURE__*/React.forwardRef(function IconButton(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiIconButton'\n  });\n  const {\n    edge = false,\n    children,\n    className,\n    color = 'default',\n    disabled = false,\n    disableFocusRipple = false,\n    size = 'medium',\n    id: idProp,\n    loading = null,\n    loadingIndicator: loadingIndicatorProp,\n    ...other\n  } = props;\n  const loadingId = useId(idProp);\n  const loadingIndicator = loadingIndicatorProp ?? /*#__PURE__*/_jsx(CircularProgress, {\n    \"aria-labelledby\": loadingId,\n    color: \"inherit\",\n    size: 16\n  });\n  const ownerState = {\n    ...props,\n    edge,\n    color,\n    disabled,\n    disableFocusRipple,\n    loading,\n    loadingIndicator,\n    size\n  };\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(IconButtonRoot, {\n    id: loading ? loadingId : idProp,\n    className: clsx(classes.root, className),\n    centerRipple: true,\n    focusRipple: !disableFocusRipple,\n    disabled: disabled || loading,\n    ref: ref,\n    ...other,\n    ownerState: ownerState,\n    children: [typeof loading === 'boolean' &&\n    /*#__PURE__*/\n    // use plain HTML span to minimize the runtime overhead\n    _jsx(\"span\", {\n      className: classes.loadingWrapper,\n      style: {\n        display: 'contents'\n      },\n      children: /*#__PURE__*/_jsx(IconButtonLoadingIndicator, {\n        className: classes.loadingIndicator,\n        ownerState: ownerState,\n        children: loading && loadingIndicator\n      })\n    }), children]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? IconButton.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The icon to display.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    const found = React.Children.toArray(props.children).some(child => /*#__PURE__*/React.isValidElement(child) && child.props.onClick);\n    if (found) {\n      return new Error(['MUI: You are providing an onClick event listener to a child of a button element.', 'Prefer applying it to the IconButton directly.', 'This guarantees that the whole <button> will be responsive to click events.'].join('\\n'));\n    }\n    return null;\n  }),\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'default'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the  keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   *\n   * ⚠️ Without a ripple there is no styling for :focus-visible by default. Be sure\n   * to highlight the element by applying separate styles with the `.Mui-focusVisible` class.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   * @default false\n   */\n  edge: PropTypes.oneOf(['end', 'start', false]),\n  /**\n   * @ignore\n   */\n  id: PropTypes.string,\n  /**\n   * If `true`, the loading indicator is visible and the button is disabled.\n   * If `true | false`, the loading wrapper is always rendered before the children to prevent [Google Translation Crash](https://github.com/mui/material-ui/issues/27853).\n   * @default null\n   */\n  loading: PropTypes.bool,\n  /**\n   * Element placed before the children if the button is in loading state.\n   * The node should contain an element with `role=\"progressbar\"` with an accessible name.\n   * By default, it renders a `CircularProgress` that is labeled by the button itself.\n   * @default <CircularProgress color=\"inherit\" size={16} />\n   */\n  loadingIndicator: PropTypes.node,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense button styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default IconButton;"],"names":["projectNamespace","triggersNamespace","timeNamespace","useProxyWatch","useTranslation","Box","Grid2","UI","data","t","timeout","javaData","sx","width","b","container","size","span","input","id","data-id","type","value","onChange","e","Number","target","ulid","createTriggerUtils","createDefultData","init","triggerTimeoutUtils","ActionOrTriggerListTypeEnum","getTriggerOrActionListPageParams","ProjectMemberType","projectEventUtils","throwTraceError","createActionOrTriggerButtonRender","timeoutTriggerItem","i18nNs","nameKey","group","descriptionKey","LinkRender","onSelect","query","item","res","addAction","trigger","triggerGroup","dispatchEditEvent","EditType","add","projectMemberType","projectInfo","window","history","back","updateAction","timeGroup","items","appNamespace","Stack","Button","useRouter","childToProjectDataUtils","triggerWhenActivityInUtils","router","backPath","pathname","pn","an","cn","onChangeClick","triggerList","getTriggerListByProp","project","triggerActionGroup","triggerAction","console","error","projectId","triggerActionGroupId","triggerActionId","triggerGroupId","triggerId","triggerType","onClickChange","direction","spacing","onClick","autoWebViewJs","isRealInAndroid","openPnAnInfoWindow","createRandomEnglishCharacters","activityInItem","onAddSelect","onChangeSelect","info","Math","floor","random","action","mergeDataToDefultData","log","openSelfByPackage","updateJavaData","appGroup","triggerListGroups","initTriggerListGroups","createMergeToDefaultData","mergeDataWith","TriggerUtilsMap","registerTriggerUtils","key","utils","Error","getTriggerUtils","create","list","push","update","newValue","createSvgIcon","jsx","_jsx","d","getProxyTarget","proxyUtils","_","projectsHistoryMap","Map","addProjectHistory","runPauseProxyFn","cloneDeep","p","get","set","getProjectHistory","removeProjectHistory","delete","getProjectLastHistory","length","takeProjectSnapshoot","last","isEqual","index","date","Date","toISOString","projectHistoryIsChanged","isSameProjectHistoryId","projectStore","Dispatcher","loadI18nValue","toProxy","toast","map","dispatcher","projectSavedEvent","editProjectInfoUtils","edit","createProjectEditInfo","getEditInfoById","findProject","listenProjectSaved","fn","addListener","askStay","giveup","updated","historyId","testTime","toLocaleString","save","saveProject","dispatch","s","success","createContext","ProjectEditInfoContext","actionGroupType","getActionGroupElement","GroupCheckList1Context","triggerActionGroupType","triggerGroupType","ButtonConfirm","getUpdateVersionKey","Log","objectCountUtils","useWatchUpdates","Checkbox","FormControlLabel","FormGroup","IconButton","useContext","useEffect","DeleteOutlineIcon","getProjectDataByGroup","projectData","getTriggerGroupElement","getTriggerActionGroupElement","Check2","logger","isPaused","l","groupCheckList1Context","onRemoveClick","splice","check","label","toString","control","data-checked","data-value","checked","getNewCountId","title","onConfirm","content","Check1","Provider","checks2","GroupCheck","isSequential","listSize","c","checks","checks1","updateChecks2","forEach","i","Array","fill","ActionListOrTriggerListPageLink","attrs","path","btnId","children","handleClick","Object","keys","q","URLSearchParams","href","ActionListContext","ActionUtilsMap","Action","actionData","onDeleteComfirmed","indexOf","position","padding","marginTop","marginBottom","right","top","bottom","borderRight","left","borderLeft","textAlign","ActionGroupContext","ActionList","actionGroup","isArray","div","TriggerActionContext","TriggerActionGroupContext","Switch","ActionGroup","editInfo","actionGroupId","actionType","setIsSequential","border","alignItems","aria-checked","TriggerContext","TriggerListContext","Trigger","triggerData","TriggerGroupContext","getUpdateVersion","TriggerList","version","TriggerGroup","EditableText","getParentWatchProxy","HandymanIcon","NotificationsNoneIcon","useState","TriggerAction","name","setName","handleNameChange","handleDelete","parent","data-id-trigger-action","setText","createDefultTriggerAction","toParent","useWatchListOperation","AddIcon","TableRowsIcon","TriggerActionGroup","groupName","setGroupName","handleGroupNameChange","addTriggerAction","newTriggerAction","getTriggerActionGroupElementByProp","data-id-trigger-action-group","style","backgroundColor","ta","jsBridgeDispatcher","mergeProjectDataToDefultData","ProjectContext","getParentProxyTarget","watchUpdates","CloseIcon","Dialog","DialogActions","DialogContent","DialogTitle","Paper","styled","SaveIcon","BootstrapDialog","theme","ProjectContent","data-id-project","StayAlert","createCountedLogger","toLeave","handleClose","handleLeaveWithoutSave","deleteDraft","handleSaveAndLeave","handleStayAndEdit","getObjectCount","handleSaveToDraftAndLeave","addDraft","onClose","aria-labelledby","open","m","aria-label","color","palette","grey","dividers","ProjectTools","onRunClick","EditProjectBuilder","findDraftOrSavedProject","createProject","draftPorjct","proxyProject","parentProject","checkUpdated","findSavedProject","Content","unsub","event","canBack","result","defaultPrevented","Title","clickToSetProjectName","display","flexDirection","gap","flexGrow","paddingLeft","h2","AppbarContainer","AppShell","initActionListGroups","ProjectEditor","appBarProps","backDispatcher","appbarProps","titleConf","ns","generateUtilityClasses","generateUtilityClass","getIconButtonUtilityClass","slot","iconButtonClasses","React","PropTypes","clsx","chainPropTypes","composeClasses","unstable_useId","useId","alpha","memoTheme","createSimplePaletteValueFilter","useDefaultProps","ButtonBase","CircularProgress","capitalize","jsxs","_jsxs","useUtilityClasses","ownerState","classes","disabled","edge","loading","slots","root","loadingIndicator","loadingWrapper","IconButtonRoot","overridesResolver","props","styles","flex","fontSize","typography","pxToRem","borderRadius","vars","active","transition","transitions","duration","shortest","variants","disableRipple","activeChannel","hoverOpacity","marginLeft","marginRight","entries","filter","main","mainChannel","IconButtonLoadingIndicator","visibility","transform","forwardRef","inProps","ref","className","disableFocusRipple","idProp","loadingIndicatorProp","other","loadingId","centerRipple","focusRipple","propTypes","node","found","Children","toArray","some","child","isValidElement","join","object","string","oneOfType","oneOf","bool","arrayOf","func"],"sourceRoot":"","ignoreList":[12,15,17,26,27,28,29,40,43,44]}